(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global){var ethrpc=global.ethrpc||require("./");global.ethrpc=ethrpc}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./":2}],2:[function(require,module,exports){(function(process){"use strict";var NODE_JS=typeof module!=="undefined"&&process&&!process.browser;var net,request,syncRequest;if(NODE_JS){net=require("net");request=require("request");syncRequest=require("sync-request");console.debug=console.log}else{request=require("browser-request")}var async=require("async");var BigNumber=require("bignumber.js");var contracts=require("augur-contracts");var abi=require("augur-abi");var errors=contracts.errors;BigNumber.config({MODULO_MODE:BigNumber.EUCLID});function RPCError(err){this.name=err.error||err.name;this.message=(err.error||err.name)+": "+err.message}RPCError.prototype=new Error;function isFunction(f){return Object.prototype.toString.call(f)==="[object Function]"}var HOSTED_NODES=["https://eth1.augur.net","https://eth3.augur.net","https://eth4.augur.net","https://eth5.augur.net"];module.exports={debug:{tx:false,broadcast:false,fallback:false,latency:true,logs:false},balancer:true,excision:false,ipcpath:null,localnode:"http://127.0.0.1:8545",TX_POLL_MAX:128,TX_POLL_INTERVAL:5e3,POST_TIMEOUT:3e4,BALANCER_SAMPLES:20,DEFAULT_GAS:"0x2fd618",ETHER:new BigNumber(10).toPower(18),Error:RPCError,errors:errors,etherscanApi:"https://testnet.etherscan.io/api?module=proxy",etherscan:true,nodes:{hosted:HOSTED_NODES.slice(),local:null},primaryNode:null,latency:{},samples:{},netLatency:null,netSamples:0,requests:1,txs:{},rawTxs:{},notifications:{},unmarshal:function(string,returns,stride,init){var elements,array,position;if(string&&string.length>=66){stride=stride||64;elements=Math.ceil((string.length-2)/stride);array=new Array(elements);position=init||2;for(var i=0;i<elements;++i){array[i]=abi.prefix_hex(string.slice(position,position+stride));position+=stride}if(array.length){if(parseInt(array[0])===array.length-1){array.splice(0,1)}else if(parseInt(array[1])===array.length-2||parseInt(array[1])/32===array.length-2){array.splice(0,2)}}for(i=0;i<array.length;++i){if(returns==="number[]"){array[i]=abi.string(array[i])}else if(returns==="unfix[]"){array[i]=abi.unfix(array[i],"string")}}return array}else{return string}},applyReturns:function(returns,result){returns=returns.toLowerCase();if(result&&result!=="0x"){if(returns&&returns.slice(-2)==="[]"){result=this.unmarshal(result,returns)}else if(returns==="string"){result=abi.decode_hex(result,true)}else if(returns==="number"){result=abi.string(result)}else if(returns==="bignumber"){result=abi.bignum(result)}else if(returns==="unfix"){result=abi.unfix(result,"string")}}return result},parse:function(response,returns,callback){var results,len,err;try{if(response&&typeof response==="string"){response=JSON.parse(response)}if(response&&typeof response==="object"&&response!==null){if(response.error){response={error:response.error.code,message:response.error.message};if(!callback)return response;callback(response)}else if(response.result!==undefined){if(typeof response.result!=="boolean"){if(returns){response.result=this.applyReturns(returns,response.result)}else{if(response.result&&response.result.length>2&&response.result.slice(0,2)==="0x"){response.result=abi.remove_leading_zeros(response.result);response.result=abi.prefix_hex(response.result)}}}if(!callback)return response.result;callback(response.result)}else if(response.constructor===Array&&response.length){len=response.length;results=new Array(len);for(var i=0;i<len;++i){results[i]=response[i].result;if(response.error||response[i]&&response[i].error){if(this.debug.broadcast){if(isFunction(callback))return callback(response.error);throw new this.Error(response.error)}}else if(response[i].result!==undefined){if(typeof response[i].result!=="boolean"){if(returns[i]){results[i]=this.applyReturns(returns[i],response[i].result)}else{results[i]=abi.remove_leading_zeros(results[i]);results[i]=abi.prefix_hex(results[i])}}}}if(!isFunction(callback))return results;callback(results)}else{err=errors.NO_RESPONSE;err.bubble=response;if(isFunction(callback))return callback(err);throw new this.Error(err)}}}catch(e){err=e;if(e&&e.name==="SyntaxError"){err=errors.INVALID_RESPONSE}if(isFunction(callback))return callback(err);throw new this.Error(err)}},strip:function(tx){var returns;if(tx.params!==undefined&&tx.params.length&&tx.params[0]){if(tx.params[0].returns){returns=tx.params[0].returns;delete tx.params[0].returns}if(tx.params[0].invocation){delete tx.params[0].invocation}}return returns},exciseNode:function(err,deadNode,callback){if(deadNode&&!this.nodes.local&&!this.ipcpath){if(this.debug.logs){console.warn("[ethrpc] request to",deadNode,"failed:",err)}var deadIndex=this.nodes.hosted.indexOf(deadNode);if(deadIndex>-1){this.nodes.hosted.splice(deadIndex,1);if(!this.nodes.hosted.length){if(isFunction(callback)){return callback(errors.HOSTED_NODE_FAILURE)}throw new this.Error(errors.HOSTED_NODE_FAILURE)}}if(isFunction(callback))callback()}},postSync:function(rpcUrl,command,returns){var timeout,req=null;if(command.timeout){timeout=command.timeout;delete command.timeout}else{timeout=this.POST_TIMEOUT}if(NODE_JS){req=syncRequest("POST",rpcUrl,{json:command,timeout:timeout});var response=req.getBody().toString();return this.parse(response,returns)}console.warn("[ethrpc] synchronous RPC request to "+rpcUrl+":",command);if(window.XMLHttpRequest){req=new window.XMLHttpRequest}else{req=new window.ActiveXObject("Microsoft.XMLHTTP")}req.open("POST",rpcUrl,false);req.setRequestHeader("Content-type","application/json");req.send(JSON.stringify(command));return this.parse(req.responseText,returns)},post:function(rpcUrl,command,returns,callback){var timeout,self=this;if(command.timeout){timeout=command.timeout;delete command.timeout}else{timeout=this.POST_TIMEOUT}request({url:rpcUrl,method:"POST",json:command,timeout:timeout},function(err,response,body){var e;if(err){self.primaryNode=null;if(self.nodes.local){if(self.nodes.local===self.localnode){self.nodes.local=null}e=errors.LOCAL_NODE_FAILURE;e.bubble=err;e.command=command;return callback(e)}else if(self.excision){return self.exciseNode(err.code,rpcUrl,callback)}console.warn("[ethrpc] asynchronous RPC timed out",rpcUrl,command);e=errors.RPC_TIMEOUT;e.bubble=err;e.command=command;callback(e)}else if(response.statusCode===200){self.parse(body,returns,callback)}})},selectPrimaryNode:function(nodes){var select,rand,numNodes,total,weights,cdf,high,low;rand=Math.random();numNodes=nodes.length;weights=new Array(numNodes);for(var k=0;k<numNodes;++k){weights[k]=1/this.latency[nodes[k]]}cdf=new Array(numNodes);total=0;for(k=0;k<numNodes;++k){total+=weights[k];cdf[k]=total}for(k=0;k<numNodes;++k){cdf[k]/=total}high=numNodes-1;low=0;while(low<high){select=Math.ceil((high+low)/2);if(cdf[select]<rand){low=select+1}else if(cdf[select]>rand){high=select-1}else{return nodes[select]}}if(low!=high){select=cdf[low]>=rand?low:select}else{select=cdf[low]>=rand?low:low+1}console.debug("[ethrpc] primary node:",nodes[select]);return[nodes[select]].concat(nodes)},selectNodes:function(){if(this.nodes.local)return[this.nodes.local];if(!this.balancer||this.nodes.hosted.length===1){return this.nodes.hosted.slice()}if(!this.samples[HOSTED_NODES[0]]||this.samples[HOSTED_NODES[0]]<this.BALANCER_SAMPLES){this.nodes.hosted.unshift(this.nodes.hosted.pop());return this.nodes.hosted.slice()}else{if(this.primaryNode===null){this.primaryNode=this.selectPrimaryNode(this.nodes.hosted)}return this.primaryNode}},updateMeanLatency:function(node,latency){if(!this.samples[node]){this.samples[node]=1;this.latency[node]=latency}else{++this.samples[node];this.latency[node]=((this.samples[node]-1)*this.latency[node]+latency)/this.samples[node]}if(this.debug.latency){if(this.netLatency===null){this.netSamples=1;this.netLatency=latency}else{++this.netSamples;this.netLatency=((this.netSamples-1)*this.netLatency+latency)/this.netSamples;if(this.debug.logs){console.log("["+this.netSamples.toString()+"] mean network latency:",this.netLatency)}}}},contracts:function(network){return contracts[network||this.version()]},broadcast:function(command,callback){var start,nodes,numCommands,returns,result,completed,self=this;if(!command||command.constructor===Object&&!command.method||command.constructor===Array&&!command.length){if(!callback)return null;return callback(null)}if(this.debug.logs){if(command.method==="eth_call"||command.method==="eth_sendTransaction"){if(command.params&&(!command.params.length||!command.params[0].from)){console.log("**************************\n"+"* OH GOD WHAT DID YOU DO *\n"+"**************************");var network=this.version();var contracts=this.contracts(network);var contract;for(var address in contracts){if(!contracts.hasOwnProperty(address))continue;if(contracts[address]===command.params[0].to){contract=address;break}}console.log("network:",network,"\n"+"contract:",contract,"["+command.params[0].to+"]\n"+"method:",command.method,"\n"+"params:",JSON.stringify(command.params,null,2));if(command.debug){console.log("tx:",JSON.stringify(command.debug,null,2));delete command.debug}}}}if(command.constructor===Array){numCommands=command.length;returns=new Array(numCommands);for(var i=0;i<numCommands;++i){returns[i]=this.strip(command[i])}}else{returns=this.strip(command)}if(NODE_JS&&this.ipcpath&&command.method&&command.method.indexOf("Filter")===-1){var loopback=this.nodes.local&&(this.nodes.local.indexOf("127.0.0.1")>-1||this.nodes.local.indexOf("localhost")>-1);if(!isFunction(callback)&&!loopback){throw new this.Error(errors.LOOPBACK_NOT_FOUND)}if(isFunction(callback)&&command.constructor!==Array){var received="";var socket=new net.Socket;socket.setEncoding("utf8");socket.connect({path:this.ipcpath},function(){socket.write(JSON.stringify(command))});socket.on("data",function(data){received+=data;self.parse(received,returns,function(parsed){if(parsed&&parsed.error===409)return;socket.destroy();callback(parsed)})});socket.on("error",function(err){socket.destroy();callback(err)});return}}if(!this.nodes.local&&!this.nodes.hosted.length&&!this.ipcpath){if(isFunction(callback))return callback(errors.ETHEREUM_NOT_FOUND);throw new this.Error(errors.ETHEREUM_NOT_FOUND)}nodes=this.selectNodes();if(isFunction(callback)){async.eachSeries(nodes,function(node,nextNode){if(!completed){if(self.debug.logs){console.log("nodes:",JSON.stringify(nodes));console.log("post",command.method,"to:",node)}if(self.balancer){start=(new Date).getTime()}self.post(node,command,returns,function(res){if(self.debug.logs){if(res&&res.constructor===BigNumber){console.log(node,"response:",abi.string(res))}else{console.log(node,"response:",res)}}if(node===nodes[nodes.length-1]||res!==undefined&&res!==null&&!res.error&&res!=="0x"){completed=true;if(self.balancer){self.updateMeanLatency(node,(new Date).getTime()-start)}return nextNode({output:res})}nextNode()})}},function(res){if(!res&&res.output===undefined)return callback();callback(res.output)})}else{for(var j=0,len=nodes.length;j<len;++j){try{if(this.debug.logs){console.log("nodes:",JSON.stringify(nodes));console.log("synchronous post",command.method,"to:",nodes[j])}if(this.balancer){start=(new Date).getTime()}result=this.postSync(nodes[j],command,returns);if(this.balancer){this.updateMeanLatency(nodes[j],(new Date).getTime()-start)}}catch(e){if(this.nodes.local){throw new this.Error(errors.LOCAL_NODE_FAILURE)}else if(this.excision){this.exciseNode(e,nodes[j])}}if(result)return result}throw new this.Error(errors.NO_RESPONSE)}},marshal:function(command,params,prefix){var payload={id:this.requests++,jsonrpc:"2.0"};if(prefix==="null"){payload.method=command.toString()}else{payload.method=(prefix||"eth_")+command.toString()}if(params!==undefined&&params!==null){if(params.constructor===Object){if(this.debug.broadcast&&params.debug){payload.debug=abi.copy(params.debug);delete params.debug}if(params.timeout){payload.timeout=params.timeout;delete params.timeout}if(JSON.stringify(params)==="{}"){params=[]}}if(params.constructor===Array){payload.params=params}else{payload.params=[params]}}else{payload.params=[]}return payload},setLocalNode:function(urlstr){this.nodes.local=urlstr||this.localnode},useHostedNode:function(urlstr){this.nodes.local=null;if(urlstr)this.nodes.hosted=[urlstr]},clear:function(){this.latency={};this.samples={};this.txs={};for(var n in this.notifications){if(!this.notifications.hasOwnProperty(n))continue;if(this.notifications[n]){clearTimeout(this.notifications[n])}}this.notifications={}},reset:function(deleteData){this.nodes.hosted=HOSTED_NODES.slice();if(deleteData)this.clear()},raw:function(command,params,f){return this.broadcast(this.marshal(command,params,"null"),f)},eth:function(command,params,f){return this.broadcast(this.marshal(command,params),f)},net:function(command,params,f){return this.broadcast(this.marshal(command,params,"net_"),f)},web3:function(command,params,f){return this.broadcast(this.marshal(command,params,"web3_"),f)},shh:function(command,params,f){return this.broadcast(this.marshal(command,params,"shh_"),f)},sha3:function(data,f){return this.broadcast(this.marshal("sha3",data.toString(),"web3_"),f)},hash:function(data,f){return this.broadcast(this.marshal("sha3",data.toString(),"web3_"),f)},gasPrice:function(f){return this.broadcast(this.marshal("gasPrice"),f)},blockNumber:function(f){if(isFunction(f)){this.broadcast(this.marshal("blockNumber"),f)}else{return parseInt(this.broadcast(this.marshal("blockNumber")))}},coinbase:function(f){return this.broadcast(this.marshal("coinbase"),f)},balance:function(address,block,f){if(block&&block.constructor===Function){f=block;block=null}block=block||"latest";return this.broadcast(this.marshal("getBalance",[address,block]),f)},getBalance:function(address,block,f){if(block&&block.constructor===Function){f=block;block=null}block=block||"latest";return this.broadcast(this.marshal("getBalance",[address,block]),f)},txCount:function(address,f){return this.broadcast(this.marshal("getTransactionCount",address),f)},getTransactionCount:function(address,f){return this.broadcast(this.marshal("getTransactionCount",address),f)},pendingTxCount:function(address,f){return this.broadcast(this.marshal("getTransactionCount",[address,"pending"]),f)},sendEther:function(to,value,from,onSent,onSuccess,onFailed){if(to&&to.constructor===Object&&to.value){value=to.value;if(to.from)from=to.from;if(to.onSent)onSent=to.onSent;if(to.onSuccess)onSuccess=to.onSuccess;if(to.onFailed)onFailed=to.onFailed;to=to.to}return this.transact({from:from,to:to,invocation:{invoke:this.sendTx,context:this},value:abi.bignum(value).mul(this.ETHER).toFixed(),returns:"null"},onSent,onSuccess,onFailed)},sign:function(address,data,f){return this.broadcast(this.marshal("sign",[address,data]),f)},getTx:function(hash,f){return this.broadcast(this.marshal("getTransactionByHash",hash),f)},getTransaction:function(hash,f){return this.broadcast(this.marshal("getTransactionByHash",hash),f)},peerCount:function(f){if(isFunction(f)){this.broadcast(this.marshal("peerCount",[],"net_"),f)}else{return parseInt(this.broadcast(this.marshal("peerCount",[],"net_")))}},accounts:function(f){return this.broadcast(this.marshal("accounts"),f)},mining:function(f){return this.broadcast(this.marshal("mining"),f)},hashrate:function(f){if(isFunction(f)){this.broadcast(this.marshal("hashrate"),f)}else{return parseInt(this.broadcast(this.marshal("hashrate")))}},getBlockByHash:function(hash,full,f){return this.broadcast(this.marshal("getBlockByHash",[hash,full||true]),f)},getBlock:function(number,full,f){return this.broadcast(this.marshal("getBlockByNumber",[number,full||true]),f)},getBlockByNumber:function(number,full,f){return this.broadcast(this.marshal("getBlockByNumber",[number,full||true]),f)},version:function(f){return this.broadcast(this.marshal("version",[],"net_"),f)},netVersion:function(f){return this.broadcast(this.marshal("version",[],"net_"),f)},estimateGas:function(tx,f){tx.to=tx.to||"";return this.broadcast(this.marshal("estimateGas",tx),f)},call:function(tx,f){tx.to=tx.to||"";tx.gas=tx.gas?tx.gas:this.DEFAULT_GAS;if(!this.etherscan)return this.broadcast(this.marshal("call",tx),f);var self=this;var returns,timeout;if(tx.returns){returns=tx.returns;delete tx.returns}if(tx.timeout){timeout=tx.timeout;delete tx.timeout}else{timeout=this.POST_TIMEOUT}var rpcUrl=this.etherscanApi+"&action=eth_call&"+Object.keys(tx).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(tx[k])}).join("&");if(!f){var req=syncRequest("GET",rpcUrl,{timeout:timeout});var response=req.getBody().toString();return this.parse(response,returns)}request({url:rpcUrl,method:"GET",timeout:timeout},function(e,response,body){if(e){console.error("etherscan eth_call error:",e);self.etherscan=false;f(e)}else if(response.statusCode===200){self.parse(body,returns,f)}})},sendTx:function(tx,f){tx.to=tx.to||"";tx.gas=tx.gas?tx.gas:this.DEFAULT_GAS;return this.broadcast(this.marshal("sendTransaction",tx),f)},sendTransaction:function(tx,f){tx.to=tx.to||"";tx.gas=tx.gas?tx.gas:this.DEFAULT_GAS;return this.broadcast(this.marshal("sendTransaction",tx),f)},sendRawTx:function(rawTx,f){return this.broadcast(this.marshal("sendRawTransaction",rawTx),f)},sendRawTransaction:function(rawTx,f){return this.broadcast(this.marshal("sendRawTransaction",rawTx),f)},receipt:function(txhash,f){return this.broadcast(this.marshal("getTransactionReceipt",txhash),f)},getTransactionReceipt:function(txhash,f){return this.broadcast(this.marshal("getTransactionReceipt",txhash),f)},clientVersion:function(f){return this.broadcast(this.marshal("clientVersion",[],"web3_"),f)},compileSerpent:function(code,f){return this.broadcast(this.marshal("compileSerpent",code),f)},compileSolidity:function(code,f){return this.broadcast(this.marshal("compileSolidity",code),f)},compileLLL:function(code,f){return this.broadcast(this.marshal("compileLLL",code),f)},publish:function(compiled,f){return this.sendTx({from:this.coinbase(),data:compiled},f)},read:function(address,block,f){return this.broadcast(this.marshal("getCode",[address,block||"latest"]),f)},getCode:function(address,block,f){return this.broadcast(this.marshal("getCode",[address,block||"latest"]),f)},fastforward:function(blocks,callback){var startBlock,endBlock,self=this;(function fastforward(){self.blockNumber(function(blockNumber){blockNumber=parseInt(blockNumber);if(startBlock===undefined){startBlock=blockNumber;endBlock=blockNumber+parseInt(blocks)}if(blockNumber>=endBlock)return callback(endBlock);setTimeout(fastforward,500)})})()},listening:function(f){var response,self=this;try{if(!this.nodes.hosted.length&&!this.nodes.local&&!this.ipcpath){throw new this.Error(errors.ETHEREUM_NOT_FOUND)}if(isFunction(f)){var timeout=setTimeout(function(){if(!response)f(false)},2500);setTimeout(function(){self.net("listening",[],function(res){clearTimeout(timeout);f(!!res)})},0)}else{return!!this.net("listening")}}catch(e){if(isFunction(f))return f(false);return false}},unlocked:function(account,f){if(!this.nodes.hosted.length&&!this.nodes.local&&!this.ipcpath){throw new this.Error(errors.ETHEREUM_NOT_FOUND)}try{if(isFunction(f)){this.sign(account,"1010101",function(res){if(res){if(res.error)return f(false);return f(true)}f(false)})}else{var res=this.sign(account,"1010101");if(res){if(res.error){return false}return true}return false}}catch(e){if(isFunction(f))return f(false);return false}},invoke:function(itx,f){var tx,dataAbi,packaged,invocation,invoked,err;try{if(itx){if(itx.send&&itx.invocation&&itx.invocation.invoke&&itx.invocation.invoke.constructor===Function){return itx.invocation.invoke.call(itx.invocation.context,itx,f)}else{tx=abi.copy(itx);if(tx.params!==undefined){if(tx.params.constructor===Array){for(var i=0,len=tx.params.length;i<len;++i){if(tx.params[i]!==undefined&&tx.params[i].constructor===BigNumber){tx.params[i]=abi.hex(tx.params[i])}}}else if(tx.params.constructor===BigNumber){tx.params=[abi.hex(tx.params)]}else{tx.params=[tx.params]}}if(tx.to)tx.to=abi.prefix_hex(tx.to);if(tx.from)tx.from=abi.prefix_hex(tx.from);dataAbi=abi.encode(tx);if(dataAbi){packaged={from:tx.from,to:tx.to,data:dataAbi,gas:tx.gas||this.DEFAULT_GAS,gasPrice:tx.gasPrice};if(tx.timeout)packaged.timeout=tx.timeout;if(tx.value)packaged.value=tx.value;if(tx.returns)packaged.returns=tx.returns;if(this.debug.broadcast){packaged.debug=abi.copy(tx);packaged.debug.batch=false}invocation=tx.send?this.sendTx:this.call;invoked=true;return invocation.call(this,packaged,f)}}}}catch(exc){err=abi.copy(errors.TRANSACTION_FAILED);err.bubble=exc;err.tx=itx;if(isFunction(f))return f(err);return err}if(!invoked){err=abi.copy(errors.TRANSACTION_FAILED);err.bubble="!invoked";err.tx=itx;if(isFunction(f))return f(err);return err}},batch:function(txlist,f){var numCommands,rpclist,callbacks,tx,dataAbi,packaged,invocation;if(txlist.constructor!==Array){if(this.debug.logs){console.warn("expected array for batch RPC, invoking instead")}return this.invoke(txlist,f)}numCommands=txlist.length;rpclist=new Array(numCommands);callbacks=new Array(numCommands);for(var i=0;i<numCommands;++i){tx=abi.copy(txlist[i]);if(tx.params!==undefined){if(tx.params.constructor===Array){for(var j=0,len=tx.params.length;j<len;++j){if(tx.params[j]!==undefined&&tx.params[j]!==null&&tx.params[j].constructor===BigNumber){tx.params[j]=abi.hex(tx.params[j])}}}else if(tx.params.constructor===BigNumber){tx.params=abi.hex(tx.params)}}if(tx.from)tx.from=abi.prefix_hex(tx.from);tx.to=abi.prefix_hex(tx.to);dataAbi=abi.encode(tx);if(dataAbi){if(tx.callback&&tx.callback.constructor===Function){callbacks[i]=tx.callback;delete tx.callback}packaged={from:tx.from,to:tx.to,data:dataAbi,gas:tx.gas||this.DEFAULT_GAS,gasPrice:tx.gasPrice};if(tx.timeout)packaged.timeout=tx.timeout;if(tx.value)packaged.value=tx.value;if(tx.returns)packaged.returns=tx.returns;if(this.debug.broadcast){packaged.debug=abi.copy(tx);packaged.debug.batch=true}invocation=tx.send?"sendTransaction":"call";rpclist[i]=this.marshal(invocation,packaged)}else{console.error("unable to package commands for batch RPC");return rpclist}}if(!f)return this.broadcast(rpclist,f);if(isFunction(f))return this.broadcast(rpclist,f);this.broadcast(rpclist,function(res){if(!res)return console.error(errors.TRANSACTION_FAILED);if(res.constructor===Array&&res.length){for(j=0;j<numCommands;++j){if(res[j]&&callbacks[j]){callbacks[j](res[j])}}}else{if(callbacks.length&&isFunction(callbacks[0])){callbacks[0](res)}}})},encodeResult:function(result,returns){if(result){if(returns==="null"){result=null}else if(returns==="address"||returns==="address[]"){result=abi.format_address(result)}else{if(!returns||returns==="hash[]"||returns==="hash"){result=abi.hex(result)}else if(returns==="number"){result=abi.string(result)}}}return result},errorCodes:function(tx,response){if(response){if(response.constructor===Array){for(var i=0,len=response.length;i<len;++i){response[i]=this.errorCodes(tx.method,response[i])}}else if(response.name&&response.message&&response.stack){response.error=response.name}else if(!response.error){if(errors[response]){response={error:response,message:errors[response]}}else{if(tx.returns&&tx.returns!=="string"||response&&response.constructor===String&&response.slice(0,2)==="0x"){var responseNumber=abi.bignum(response);if(responseNumber){responseNumber=abi.string(responseNumber);if(errors[tx.method]&&errors[tx.method][responseNumber]){response={error:responseNumber,message:errors[tx.method][responseNumber]}}}}}}}return response},fire:function(itx,callback){var self=this;var tx=abi.copy(itx);if(!isFunction(callback)){var res=this.errorCodes(tx,this.invoke(tx));if(res){if(res.error)return res;return this.encodeResult(res,itx.returns)}throw new this.Error(errors.NO_RESPONSE)}this.invoke(tx,function(res){res=self.errorCodes(tx,res);if(res){if(res.error)return callback(res);return callback(self.encodeResult(res,itx.returns))}callback(errors.NO_RESPONSE)})},checkBlockHash:function(tx,callreturn,itx,txhash,returns,onSent,onSuccess,onFailed){if(!this.txs[txhash])this.txs[txhash]={};if(this.txs[txhash].count===undefined)this.txs[txhash].count=0;++this.txs[txhash].count;if(this.debug.tx)console.debug("checkBlockHash:",tx,callreturn,itx);if(tx&&tx.blockHash&&abi.number(tx.blockHash)!==0){tx.callReturn=this.encodeResult(callreturn,returns);tx.txHash=tx.hash;delete tx.hash;this.txs[txhash].status="confirmed";clearTimeout(this.notifications[txhash]);delete this.notifications[txhash];if(isFunction(onSuccess))onSuccess(tx)}else{var self=this;if(this.txs[txhash].count<this.TX_POLL_MAX){this.notifications[txhash]=setTimeout(function(){if(self.txs[txhash].status==="pending"){self.txNotify(callreturn,itx,txhash,returns,onSent,onSuccess,onFailed)}},this.TX_POLL_INTERVAL)}else{self.txs[txhash].status="unconfirmed";if(isFunction(onFailed))onFailed(errors.TRANSACTION_NOT_CONFIRMED)}}},txNotify:function(callreturn,itx,txhash,returns,onSent,onSuccess,onFailed){var self=this;this.getTx(txhash,function(tx){if(self.debug.tx)console.debug("txNofity.getTx:",tx);if(tx){return self.checkBlockHash(tx,callreturn,itx,txhash,returns,onSent,onSuccess,onFailed)}self.txs[txhash].status="failed";if(self.debug.tx)console.log("raw transactions:",self.rawTxs);if(self.rawTxs[txhash]&&self.rawTxs[txhash].tx){var duplicateNonce;for(var hash in self.rawTxs){if(!self.rawTxs.hasOwnProperty(hash))continue;if(self.rawTxs[hash].tx.nonce===self.rawTxs[txhash].tx.nonce&&JSON.stringify(self.rawTxs[hash].tx)!==JSON.stringify(self.rawTxs[txhash].tx)){duplicateNonce=true;break}}if(duplicateNonce){if(returns)itx.returns=returns;self.txs[txhash].status="resubmitted";return self.transact(itx,onSent,onSuccess,onFailed)}else{if(isFunction(onFailed))onFailed(errors.TRANSACTION_NOT_FOUND)}}else{if(isFunction(onFailed))onFailed(errors.TRANSACTION_NOT_FOUND)}})},confirmTx:function(tx,txhash,returns,onSent,onSuccess,onFailed){var self=this;if(tx&&txhash){if(errors[txhash]){if(isFunction(onFailed))onFailed({error:txhash,message:errors[txhash],tx:tx})}else{if(this.txs[txhash]){if(isFunction(onFailed))onFailed(errors.DUPLICATE_TRANSACTION)}else{this.txs[txhash]={hash:txhash,tx:tx,count:0,status:"pending"};this.txs[txhash].tx.returns=returns;return this.getTx(txhash,function(sent){if(self.debug.tx)console.debug("sent:",sent);if(returns!=="null"){return self.call({from:sent.from,to:sent.to||tx.to,value:sent.value||tx.value,data:sent.input},function(callReturn){if(callReturn){if(errors[callReturn]){self.txs[txhash].status="failed";if(isFunction(onFailed))onFailed({error:callReturn,message:errors[callReturn],tx:tx})}else{callReturn=JSON.stringify({result:callReturn});var numReturn=self.parse(callReturn,"number");if(numReturn.constructor===Object&&numReturn.error){self.txs[txhash].status="failed";if(isFunction(onFailed))onFailed(numReturn)}else if(errors[numReturn]){self.txs[txhash].status="failed";if(isFunction(onFailed))onFailed({error:numReturn,message:errors[numReturn],tx:tx})}else{try{if(numReturn&&numReturn.constructor===BigNumber){numReturn=numReturn.toFixed()}if(numReturn&&errors[tx.method]&&errors[tx.method][numReturn]){self.txs[txhash].status="failed";if(isFunction(onFailed))onFailed({error:numReturn,message:errors[tx.method][numReturn],tx:tx})}else{callReturn=self.parse(callReturn,returns);self.txs[txhash].callReturn=self.encodeResult(callReturn,returns);onSent({txHash:txhash,callReturn:self.encodeResult(callReturn,returns)});if(isFunction(onSuccess)){self.txNotify(callReturn,tx,txhash,returns,onSent,onSuccess,onFailed)}}}catch(e){self.txs[txhash].status="failed";if(isFunction(onFailed))onFailed(e)}}}}else{self.txs[txhash].status="failed";if(isFunction(onFailed))onFailed(errors.NULL_CALL_RETURN)}})}onSent({txHash:txhash,callReturn:null});if(isFunction(onSuccess)){self.txNotify(null,tx,txhash,returns,onSent,onSuccess,onFailed)}})}}}},transact:function(tx,onSent,onSuccess,onFailed){var self=this;var returns=tx.returns;tx.send=true;delete tx.returns;if(!isFunction(onSent))return this.invoke(tx);this.invoke(tx,function(txhash){if(self.debug.tx)console.debug("txhash:",txhash);if(txhash){if(txhash.error){if(isFunction(onFailed))onFailed(txhash)}else{txhash=abi.prefix_hex(abi.pad_left(abi.strip_0x(txhash)));self.confirmTx(tx,txhash,returns,onSent,onSuccess,onFailed)}}else{if(isFunction(onFailed))onFailed(errors.NULL_RESPONSE)}})}}}).call(this,require("_process"))},{_process:18,async:3,"augur-abi":4,"augur-contracts":8,"bignumber.js":10,"browser-request":11,net:12,request:13,"sync-request":13}],3:[function(require,module,exports){(function(process,global){(function(){var async={};function noop(){}function identity(v){return v}function toBool(v){return!!v}function notId(v){return!v}var previous_async;var root=typeof self==="object"&&self.self===self&&self||typeof global==="object"&&global.global===global&&global||this;if(root!=null){previous_async=root.async}async.noConflict=function(){root.async=previous_async;return async};function only_once(fn){return function(){if(fn===null)throw new Error("Callback was already called.");fn.apply(this,arguments);fn=null}}function _once(fn){return function(){if(fn===null)return;fn.apply(this,arguments);fn=null}}var _toString=Object.prototype.toString;var _isArray=Array.isArray||function(obj){return _toString.call(obj)==="[object Array]"};var _isObject=function(obj){var type=typeof obj;return type==="function"||type==="object"&&!!obj};function _isArrayLike(arr){return _isArray(arr)||typeof arr.length==="number"&&arr.length>=0&&arr.length%1===0}function _arrayEach(arr,iterator){var index=-1,length=arr.length;while(++index<length){iterator(arr[index],index,arr)}}function _map(arr,iterator){var index=-1,length=arr.length,result=Array(length);while(++index<length){result[index]=iterator(arr[index],index,arr)}return result}function _range(count){return _map(Array(count),function(v,i){return i})}function _reduce(arr,iterator,memo){_arrayEach(arr,function(x,i,a){memo=iterator(memo,x,i,a)});return memo}function _forEachOf(object,iterator){_arrayEach(_keys(object),function(key){iterator(object[key],key)})}function _indexOf(arr,item){for(var i=0;i<arr.length;i++){if(arr[i]===item)return i}return-1}var _keys=Object.keys||function(obj){var keys=[];for(var k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}return keys};function _keyIterator(coll){var i=-1;var len;var keys;if(_isArrayLike(coll)){len=coll.length;return function next(){i++;return i<len?i:null}}else{keys=_keys(coll);len=keys.length;return function next(){i++;return i<len?keys[i]:null}}}function _restParam(func,startIndex){startIndex=startIndex==null?func.length-1:+startIndex;return function(){var length=Math.max(arguments.length-startIndex,0);var rest=Array(length);for(var index=0;index<length;index++){rest[index]=arguments[index+startIndex]}switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest)}}}function _withoutIndex(iterator){return function(value,index,callback){return iterator(value,callback)}}var _setImmediate=typeof setImmediate==="function"&&setImmediate;var _delay=_setImmediate?function(fn){_setImmediate(fn)}:function(fn){setTimeout(fn,0)};if(typeof process==="object"&&typeof process.nextTick==="function"){async.nextTick=process.nextTick}else{async.nextTick=_delay}async.setImmediate=_setImmediate?_delay:async.nextTick;async.forEach=async.each=function(arr,iterator,callback){return async.eachOf(arr,_withoutIndex(iterator),callback);
};async.forEachSeries=async.eachSeries=function(arr,iterator,callback){return async.eachOfSeries(arr,_withoutIndex(iterator),callback)};async.forEachLimit=async.eachLimit=function(arr,limit,iterator,callback){return _eachOfLimit(limit)(arr,_withoutIndex(iterator),callback)};async.forEachOf=async.eachOf=function(object,iterator,callback){callback=_once(callback||noop);object=object||[];var iter=_keyIterator(object);var key,completed=0;while((key=iter())!=null){completed+=1;iterator(object[key],key,only_once(done))}if(completed===0)callback(null);function done(err){completed--;if(err){callback(err)}else if(key===null&&completed<=0){callback(null)}}};async.forEachOfSeries=async.eachOfSeries=function(obj,iterator,callback){callback=_once(callback||noop);obj=obj||[];var nextKey=_keyIterator(obj);var key=nextKey();function iterate(){var sync=true;if(key===null){return callback(null)}iterator(obj[key],key,only_once(function(err){if(err){callback(err)}else{key=nextKey();if(key===null){return callback(null)}else{if(sync){async.setImmediate(iterate)}else{iterate()}}}}));sync=false}iterate()};async.forEachOfLimit=async.eachOfLimit=function(obj,limit,iterator,callback){_eachOfLimit(limit)(obj,iterator,callback)};function _eachOfLimit(limit){return function(obj,iterator,callback){callback=_once(callback||noop);obj=obj||[];var nextKey=_keyIterator(obj);if(limit<=0){return callback(null)}var done=false;var running=0;var errored=false;(function replenish(){if(done&&running<=0){return callback(null)}while(running<limit&&!errored){var key=nextKey();if(key===null){done=true;if(running<=0){callback(null)}return}running+=1;iterator(obj[key],key,only_once(function(err){running-=1;if(err){callback(err);errored=true}else{replenish()}}))}})()}}function doParallel(fn){return function(obj,iterator,callback){return fn(async.eachOf,obj,iterator,callback)}}function doParallelLimit(fn){return function(obj,limit,iterator,callback){return fn(_eachOfLimit(limit),obj,iterator,callback)}}function doSeries(fn){return function(obj,iterator,callback){return fn(async.eachOfSeries,obj,iterator,callback)}}function _asyncMap(eachfn,arr,iterator,callback){callback=_once(callback||noop);arr=arr||[];var results=_isArrayLike(arr)?[]:{};eachfn(arr,function(value,index,callback){iterator(value,function(err,v){results[index]=v;callback(err)})},function(err){callback(err,results)})}async.map=doParallel(_asyncMap);async.mapSeries=doSeries(_asyncMap);async.mapLimit=doParallelLimit(_asyncMap);async.inject=async.foldl=async.reduce=function(arr,memo,iterator,callback){async.eachOfSeries(arr,function(x,i,callback){iterator(memo,x,function(err,v){memo=v;callback(err)})},function(err){callback(err,memo)})};async.foldr=async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,identity).reverse();async.reduce(reversed,memo,iterator,callback)};async.transform=function(arr,memo,iterator,callback){if(arguments.length===3){callback=iterator;iterator=memo;memo=_isArray(arr)?[]:{}}async.eachOf(arr,function(v,k,cb){iterator(memo,v,k,cb)},function(err){callback(err,memo)})};function _filter(eachfn,arr,iterator,callback){var results=[];eachfn(arr,function(x,index,callback){iterator(x,function(v){if(v){results.push({index:index,value:x})}callback()})},function(){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})}async.select=async.filter=doParallel(_filter);async.selectLimit=async.filterLimit=doParallelLimit(_filter);async.selectSeries=async.filterSeries=doSeries(_filter);function _reject(eachfn,arr,iterator,callback){_filter(eachfn,arr,function(value,cb){iterator(value,function(v){cb(!v)})},callback)}async.reject=doParallel(_reject);async.rejectLimit=doParallelLimit(_reject);async.rejectSeries=doSeries(_reject);function _createTester(eachfn,check,getResult){return function(arr,limit,iterator,cb){function done(){if(cb)cb(getResult(false,void 0))}function iteratee(x,_,callback){if(!cb)return callback();iterator(x,function(v){if(cb&&check(v)){cb(getResult(true,x));cb=iterator=false}callback()})}if(arguments.length>3){eachfn(arr,limit,iteratee,done)}else{cb=iterator;iterator=limit;eachfn(arr,iteratee,done)}}}async.any=async.some=_createTester(async.eachOf,toBool,identity);async.someLimit=_createTester(async.eachOfLimit,toBool,identity);async.all=async.every=_createTester(async.eachOf,notId,notId);async.everyLimit=_createTester(async.eachOfLimit,notId,notId);function _findGetResult(v,x){return x}async.detect=_createTester(async.eachOf,identity,_findGetResult);async.detectSeries=_createTester(async.eachOfSeries,identity,_findGetResult);async.detectLimit=_createTester(async.eachOfLimit,identity,_findGetResult);async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){if(err){callback(err)}else{callback(null,{value:x,criteria:criteria})}})},function(err,results){if(err){return callback(err)}else{callback(null,_map(results.sort(comparator),function(x){return x.value}))}});function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}};async.auto=function(tasks,concurrency,callback){if(typeof arguments[1]==="function"){callback=concurrency;concurrency=null}callback=_once(callback||noop);var keys=_keys(tasks);var remainingTasks=keys.length;if(!remainingTasks){return callback(null)}if(!concurrency){concurrency=remainingTasks}var results={};var runningTasks=0;var hasError=false;var listeners=[];function addListener(fn){listeners.unshift(fn)}function removeListener(fn){var idx=_indexOf(listeners,fn);if(idx>=0)listeners.splice(idx,1)}function taskComplete(){remainingTasks--;_arrayEach(listeners.slice(0),function(fn){fn()})}addListener(function(){if(!remainingTasks){callback(null,results)}});_arrayEach(keys,function(k){if(hasError)return;var task=_isArray(tasks[k])?tasks[k]:[tasks[k]];var taskCallback=_restParam(function(err,args){runningTasks--;if(args.length<=1){args=args[0]}if(err){var safeResults={};_forEachOf(results,function(val,rkey){safeResults[rkey]=val});safeResults[k]=args;hasError=true;callback(err,safeResults)}else{results[k]=args;async.setImmediate(taskComplete)}});var requires=task.slice(0,task.length-1);var len=requires.length;var dep;while(len--){if(!(dep=tasks[requires[len]])){throw new Error("Has nonexistent dependency in "+requires.join(", "))}if(_isArray(dep)&&_indexOf(dep,k)>=0){throw new Error("Has cyclic dependencies")}}function ready(){return runningTasks<concurrency&&_reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},true)&&!results.hasOwnProperty(k)}if(ready()){runningTasks++;task[task.length-1](taskCallback,results)}else{addListener(listener)}function listener(){if(ready()){runningTasks++;removeListener(listener);task[task.length-1](taskCallback,results)}}})};async.retry=function(times,task,callback){var DEFAULT_TIMES=5;var DEFAULT_INTERVAL=0;var attempts=[];var opts={times:DEFAULT_TIMES,interval:DEFAULT_INTERVAL};function parseTimes(acc,t){if(typeof t==="number"){acc.times=parseInt(t,10)||DEFAULT_TIMES}else if(typeof t==="object"){acc.times=parseInt(t.times,10)||DEFAULT_TIMES;acc.interval=parseInt(t.interval,10)||DEFAULT_INTERVAL}else{throw new Error("Unsupported argument type for 'times': "+typeof t)}}var length=arguments.length;if(length<1||length>3){throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)")}else if(length<=2&&typeof times==="function"){callback=task;task=times}if(typeof times!=="function"){parseTimes(opts,times)}opts.callback=callback;opts.task=task;function wrappedTask(wrappedCallback,wrappedResults){function retryAttempt(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}}function retryInterval(interval){return function(seriesCallback){setTimeout(function(){seriesCallback(null)},interval)}}while(opts.times){var finalAttempt=!(opts.times-=1);attempts.push(retryAttempt(opts.task,finalAttempt));if(!finalAttempt&&opts.interval>0){attempts.push(retryInterval(opts.interval))}}async.series(attempts,function(done,data){data=data[data.length-1];(wrappedCallback||opts.callback)(data.err,data.result)})}return opts.callback?wrappedTask():wrappedTask};async.waterfall=function(tasks,callback){callback=_once(callback||noop);if(!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length){return callback()}function wrapIterator(iterator){return _restParam(function(err,args){if(err){callback.apply(null,[err].concat(args))}else{var next=iterator.next();if(next){args.push(wrapIterator(next))}else{args.push(callback)}ensureAsync(iterator).apply(null,args)}})}wrapIterator(async.iterator(tasks))()};function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=_isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(_restParam(function(err,args){if(args.length<=1){args=args[0]}results[key]=args;callback(err)}))},function(err){callback(err,results)})}async.parallel=function(tasks,callback){_parallel(async.eachOf,tasks,callback)};async.parallelLimit=function(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)};async.series=function(tasks,callback){_parallel(async.eachOfSeries,tasks,callback)};async.iterator=function(tasks){function makeCallback(index){function fn(){if(tasks.length){tasks[index].apply(null,arguments)}return fn.next()}fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null};return fn}return makeCallback(0)};async.apply=_restParam(function(fn,args){return _restParam(function(callArgs){return fn.apply(null,args.concat(callArgs))})});function _concat(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]);cb(err)})},function(err){callback(err,result)})}async.concat=doParallel(_concat);async.concatSeries=doSeries(_concat);async.whilst=function(test,iterator,callback){callback=callback||noop;if(test()){var next=_restParam(function(err,args){if(err){callback(err)}else if(test.apply(this,args)){iterator(next)}else{callback.apply(null,[null].concat(args))}});iterator(next)}else{callback(null)}};async.doWhilst=function(iterator,test,callback){var calls=0;return async.whilst(function(){return++calls<=1||test.apply(this,arguments)},iterator,callback)};async.until=function(test,iterator,callback){return async.whilst(function(){return!test.apply(this,arguments)},iterator,callback)};async.doUntil=function(iterator,test,callback){return async.doWhilst(iterator,function(){return!test.apply(this,arguments)},callback)};async.during=function(test,iterator,callback){callback=callback||noop;var next=_restParam(function(err,args){if(err){callback(err)}else{args.push(check);test.apply(this,args)}});var check=function(err,truth){if(err){callback(err)}else if(truth){iterator(next)}else{callback(null)}};test(check)};async.doDuring=function(iterator,test,callback){var calls=0;async.during(function(next){if(calls++<1){next(null,true)}else{test.apply(this,arguments)}},iterator,callback)};function _queue(worker,concurrency,payload){if(concurrency==null){concurrency=1}else if(concurrency===0){throw new Error("Concurrency must not be zero")}function _insert(q,data,pos,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!_isArray(data)){data=[data]}if(data.length===0&&q.idle()){return async.setImmediate(function(){q.drain()})}_arrayEach(data,function(task){var item={data:task,callback:callback||noop};if(pos){q.tasks.unshift(item)}else{q.tasks.push(item)}if(q.tasks.length===q.concurrency){q.saturated()}});async.setImmediate(q.process)}function _next(q,tasks){return function(){workers-=1;var removed=false;var args=arguments;_arrayEach(tasks,function(task){_arrayEach(workersList,function(worker,index){if(worker===task&&!removed){workersList.splice(index,1);removed=true}});task.callback.apply(task,args)});if(q.tasks.length+workers===0){q.drain()}q.process()}}var workers=0;var workersList=[];var q={tasks:[],concurrency:concurrency,payload:payload,saturated:noop,empty:noop,drain:noop,started:false,paused:false,push:function(data,callback){_insert(q,data,false,callback)},kill:function(){q.drain=noop;q.tasks=[]},unshift:function(data,callback){_insert(q,data,true,callback)},process:function(){while(!q.paused&&workers<q.concurrency&&q.tasks.length){var tasks=q.payload?q.tasks.splice(0,q.payload):q.tasks.splice(0,q.tasks.length);var data=_map(tasks,function(task){return task.data});if(q.tasks.length===0){q.empty()}workers+=1;workersList.push(tasks[0]);var cb=only_once(_next(q,tasks));worker(data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},workersList:function(){return workersList},idle:function(){return q.tasks.length+workers===0},pause:function(){q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;var resumeCount=Math.min(q.concurrency,q.tasks.length);for(var w=1;w<=resumeCount;w++){async.setImmediate(q.process)}}};return q}async.queue=function(worker,concurrency){var q=_queue(function(items,cb){worker(items[0],cb)},concurrency,1);return q};async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){var beg=-1,end=sequence.length-1;while(beg<end){var mid=beg+(end-beg+1>>>1);if(compare(item,sequence[mid])>=0){beg=mid}else{end=mid-1}}return beg}function _insert(q,data,priority,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!_isArray(data)){data=[data]}if(data.length===0){return async.setImmediate(function(){q.drain()})}_arrayEach(data,function(task){var item={data:task,priority:priority,callback:typeof callback==="function"?callback:noop};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item);if(q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);q.push=function(data,priority,callback){_insert(q,data,priority,callback)};delete q.unshift;return q};async.cargo=function(worker,payload){return _queue(worker,1,payload)};function _console_fn(name){return _restParam(function(fn,args){fn.apply(null,args.concat([_restParam(function(err,args){if(typeof console==="object"){if(err){if(console.error){console.error(err)}}else if(console[name]){_arrayEach(args,function(x){console[name](x)})}}})]))})}async.log=_console_fn("log");async.dir=_console_fn("dir");async.memoize=function(fn,hasher){var memo={};var queues={};var has=Object.prototype.hasOwnProperty;hasher=hasher||identity;var memoized=_restParam(function memoized(args){var callback=args.pop();var key=hasher.apply(null,args);if(has.call(memo,key)){async.setImmediate(function(){callback.apply(null,memo[key])})}else if(has.call(queues,key)){queues[key].push(callback)}else{queues[key]=[callback];fn.apply(null,args.concat([_restParam(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,args)}})]))}});memoized.memo=memo;memoized.unmemoized=fn;return memoized};async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}};function _times(mapper){return function(count,iterator,callback){mapper(_range(count),iterator,callback)}}async.times=_times(async.map);async.timesSeries=_times(async.mapSeries);async.timesLimit=function(count,limit,iterator,callback){return async.mapLimit(_range(count),limit,iterator,callback)};async.seq=function(){var fns=arguments;return _restParam(function(args){var that=this;var callback=args[args.length-1];if(typeof callback=="function"){args.pop()}else{callback=noop}async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([_restParam(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){callback.apply(that,[err].concat(results))})})};async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))};function _applyEach(eachfn){return _restParam(function(fns,args){var go=_restParam(function(args){var that=this;var callback=args.pop();return eachfn(fns,function(fn,_,cb){fn.apply(that,args.concat([cb]))},callback)});if(args.length){return go.apply(this,args)}else{return go}})}async.applyEach=_applyEach(async.eachOf);async.applyEachSeries=_applyEach(async.eachOfSeries);async.forever=function(fn,callback){var done=only_once(callback||noop);var task=ensureAsync(fn);function next(err){if(err){return done(err)}task(next)}next()};function ensureAsync(fn){return _restParam(function(args){var callback=args.pop();args.push(function(){var innerArgs=arguments;if(sync){async.setImmediate(function(){callback.apply(null,innerArgs)})}else{callback.apply(null,innerArgs)}});var sync=true;fn.apply(this,args);sync=false})}async.ensureAsync=ensureAsync;async.constant=_restParam(function(values){var args=[null].concat(values);return function(callback){return callback.apply(this,args)}});async.wrapSync=async.asyncify=function asyncify(func){return _restParam(function(args){var callback=args.pop();var result;try{result=func.apply(this,args)}catch(e){return callback(e)}if(_isObject(result)&&typeof result.then==="function"){result.then(function(value){callback(null,value)})["catch"](function(err){callback(err.message?err:new Error(err))})}else{callback(null,result)}})};if(typeof module==="object"&&module.exports){module.exports=async}else if(typeof define==="function"&&define.amd){define([],function(){return async})}else{root.async=async}})()}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:18}],4:[function(require,module,exports){(function(Buffer){"use strict";var BigNumber=require("bignumber.js");var keccak_256=require("js-sha3").keccak_256;BigNumber.config({MODULO_MODE:BigNumber.EUCLID});module.exports={constants:{ONE:new BigNumber(2).toPower(64),MOD:new BigNumber(2).toPower(256),BYTES_32:new BigNumber(2).toPower(252)},copy:function(obj){if(null===obj||"object"!==typeof obj)return obj;var copy=obj.constructor();for(var attr in obj){if(obj.hasOwnProperty(attr))copy[attr]=obj[attr]}return copy},is_numeric:function(n){return Number(parseFloat(n))==n},remove_leading_zeros:function(h){var hex=h.toString();if(hex.slice(0,2)==="0x"){hex=hex.slice(2)}if(!/^0+$/.test(hex)){while(hex.slice(0,2)==="00"){hex=hex.slice(2)}}return hex},remove_trailing_zeros:function(h){var hex=h.toString();while(hex.slice(-2)==="00"){hex=hex.slice(0,-2)}return hex},decode_hex:function(h,strip){var hex=h.toString();var str="";if(hex.slice(0,2)==="0x")hex=hex.slice(2);if(strip){hex=hex.slice(128);hex=this.remove_trailing_zeros(hex)}for(var i=0,l=hex.length;i<l;i+=2){str+=String.fromCharCode(parseInt(hex.substr(i,2),16))}return str},encode_hex:function(str){var hexbyte,hex="";if(str&&str.constructor===Object||str.constructor===Array){str=JSON.stringify(str)}for(var i=0,len=str.length;i<len;++i){hexbyte=str.charCodeAt(i).toString(16);if(hexbyte.length===1)hexbyte="0"+hexbyte;hex+=hexbyte}return hex},unfork:function(forked,prefix){if(forked!==null&&forked!==undefined){var unforked=this.bignum(forked);var superforked=unforked.plus(this.constants.MOD);if(superforked.gte(this.constants.BYTES_32)&&superforked.lt(this.constants.MOD)){unforked=superforked}if(forked.constructor===BigNumber)return unforked;unforked=this.pad_left(unforked.toString(16));if(prefix)unforked=this.prefix_hex(unforked);return unforked}},hex:function(n,nowrap){var h;if(n!==undefined&&n!==null&&n.constructor){switch(n.constructor){case Buffer:h=n.toString("hex");break;case Object:h=this.encode_hex(JSON.stringify(n));break;case Array:h=this.bignum(n,"hex",nowrap);break;case BigNumber:h=n.toString(16);break;case String:if(n==="-0x0"){h="0x0"}else if(n==="-0"){h="0"}else if(n.slice(0,3)==="-0x"||n.slice(0,2)==="-0x"){h=n}else{if(isFinite(n)){h=this.bignum(n,"hex",nowrap)}else{h=this.encode_hex(n)}}break;case Boolean:h=n?"0x1":"0x0";break;default:h=this.bignum(n,"hex",nowrap)}}return this.prefix_hex(h)},is_hex:function(str){if(str&&str.constructor===String){if(str.slice(0,1)==="-"&&str.length>1){return/^[0-9A-F]+$/i.test(str.slice(1))}return/^[0-9A-F]+$/i.test(str)}return false},format_address:function(addr){if(addr&&addr.constructor===String){addr=this.strip_0x(addr);while(addr.length>40&&addr.slice(0,1)==="0"){addr=addr.slice(1)}while(addr.length<40){addr="0"+addr}return this.prefix_hex(addr)}},strip_0x:function(str){if(str&&str.constructor===String&&str.length>=2){var h=str;if(h==="-0x0"||h==="0x0"){return"0"}if(h.slice(0,2)==="0x"&&h.length>2){h=h.slice(2)}else if(h.slice(0,3)==="-0x"&&h.length>3){h="-"+h.slice(3)}if(this.is_hex(h))return h}return str},zero_prefix:function(h){if(h!==undefined&&h!==null&&h.constructor===String){h=this.strip_0x(h);if(h.length%2)h="0"+h;if(h.slice(0,2)!=="0x"&&h.slice(0,3)!=="-0x"){if(h.slice(0,1)==="-"){h="-0x"+h.slice(1)}else{h="0x"+h}}}return h},prefix_hex:function(n){if(n!==undefined&&n!==null){if(n.constructor===Number||n.constructor===BigNumber){n=n.toString(16)}if(n.constructor===String&&n.slice(0,2)!=="0x"&&n.slice(0,3)!=="-0x"){if(n.slice(0,1)==="-"){n="-0x"+n.slice(1)}else{n="0x"+n}}}return n},bignum:function(n,encoding,nowrap){var bn,len;if(n!==null&&n!==undefined&&n!=="0x"&&!n.error&&!n.message){switch(n.constructor){case BigNumber:bn=n;break;case Number:if(Math.floor(Math.log(n)/Math.log(10)+1)<=15){bn=new BigNumber(n)}else{n=n.toString();try{bn=new BigNumber(n)}catch(exc){if(this.is_hex(n)){bn=new BigNumber(n,16)}else{return n}}}break;case String:try{bn=new BigNumber(n)}catch(exc){if(this.is_hex(n)){bn=new BigNumber(n,16)}else{return n}}break;case Array:len=n.length;bn=new Array(len);for(var i=0;i<len;++i){bn[i]=this.bignum(n[i],encoding,nowrap)}break;default:try{bn=new BigNumber(n)}catch(ex){try{bn=new BigNumber(n,16)}catch(exc){return n}}}if(bn!==undefined&&bn!==null&&bn.constructor===BigNumber){if(!nowrap&&bn.gte(this.constants.BYTES_32)){bn=bn.sub(this.constants.MOD)}if(encoding){if(encoding==="number"){bn=bn.toNumber()}else if(encoding==="string"){bn=bn.toFixed()}else if(encoding==="hex"){bn=this.prefix_hex(bn.toString(16))}}}return bn}else{return n}},fix:function(n,encode){var fixed;if(n&&n!=="0x"&&!n.error&&!n.message){if(encode&&n.constructor===String){encode=encode.toLowerCase()}if(n.constructor===Array){var len=n.length;fixed=new Array(len);for(var i=0;i<len;++i){fixed[i]=this.fix(n[i],encode)}}else{if(n.constructor===BigNumber){fixed=n.mul(this.constants.ONE).round()}else{fixed=this.bignum(n).mul(this.constants.ONE).round()}if(fixed&&fixed.gte(this.constants.BYTES_32)){fixed=fixed.sub(this.constants.MOD)}if(encode){if(encode==="string"){fixed=fixed.toFixed()}else if(encode==="hex"){if(fixed.constructor===BigNumber){fixed=fixed.toString(16)}fixed=this.prefix_hex(fixed)}}}return fixed}else{return n}},unfix:function(n,encode){var unfixed;if(n&&n!=="0x"&&!n.error&&!n.message){if(encode)encode=encode.toLowerCase();if(n.constructor===Array){var len=n.length;unfixed=new Array(len);for(var i=0;i<len;++i){unfixed[i]=this.unfix(n[i],encode)}}else{if(n.constructor===BigNumber){unfixed=n.dividedBy(this.constants.ONE)}else{unfixed=this.bignum(n).dividedBy(this.constants.ONE)}if(unfixed&&encode){if(encode==="hex"){unfixed=this.prefix_hex(unfixed)}else if(encode==="string"){unfixed=unfixed.toFixed()}else if(encode==="number"){unfixed=unfixed.toNumber()}}}return unfixed}else{return n}},string:function(n){return this.bignum(n,"string")},number:function(s){return this.bignum(s,"number")},chunk:function(total_len,chunk_len){chunk_len=chunk_len||64;return Math.ceil(total_len/chunk_len)},pad_right:function(s,chunk_len,prefix){chunk_len=chunk_len||64;s=this.strip_0x(s);var multiple=chunk_len*this.chunk(s.length,chunk_len);while(s.length<multiple){s+="0"}if(prefix)s=this.prefix_hex(s);return s},pad_left:function(s,chunk_len,prefix){chunk_len=chunk_len||64;s=this.strip_0x(s);var multiple=chunk_len*this.chunk(s.length,chunk_len);while(s.length<multiple){s="0"+s}if(prefix)s=this.prefix_hex(s);return s},encode_prefix:function(funcname,signature){signature=signature||"";var summary=funcname+"(";for(var i=0,len=signature.length;i<len;++i){switch(signature[i]){case"s":summary+="bytes";break;case"b":summary+="bytes";var j=1;while(this.is_numeric(signature[i+j])){summary+=signature[i+j].toString();j++}i+=j;break;case"i":summary+="int256";break;case"a":summary+="int256[]";break;default:summary+="weird"}if(i!==len-1)summary+=","}var prefix=keccak_256(summary+")").slice(0,8);while(prefix.slice(0,1)==="0"){prefix=prefix.slice(1)}return"0x"+prefix},parse_signature:function(signature){var types=[];for(var i=0,len=signature.length;i<len;++i){if(this.is_numeric(signature[i])){types[types.length-1]+=signature[i].toString()}else{if(signature[i]==="s"){types.push("bytes")}else if(signature[i]==="b"){types.push("bytes")}else if(signature[i]==="a"){types.push("int256[]")}else{types.push("int256")}}}return types},parse_params:function(params){if(params!==undefined&&params!==null&&params!==[]&&params!==""){if(params.constructor===String){if(params.slice(0,1)==="["&&params.slice(-1)==="]"){params=JSON.parse(params)}if(params.constructor===String){params=[params]}}else if(params.constructor===Number){params=[params]}}else{params=[]}return params},encode_int:function(value){var cs,x,output;cs=[];x=new BigNumber(value);while(x.gt(new BigNumber(0))){cs.push(String.fromCharCode(x.mod(new BigNumber(256))));x=x.dividedBy(new BigNumber(256)).floor()}output=this.encode_hex(cs.reverse().join(""));while(output.length<64){output="0"+output}return output},encode_int256:function(encoding,param){if(param!==undefined&&param!==null&&param!==[]&&param!==""){if(param.constructor===Number){param=this.bignum(param);if(param.lt(new BigNumber(0))){param=param.add(this.constants.MOD)}encoding.statics+=this.encode_int(param)}else if(param.constructor===String){if(param.slice(0,1)==="-"){param=this.bignum(param).add(this.constants.MOD).toFixed();encoding.statics+=this.encode_int(param)}else if(param.slice(0,2)==="0x"){encoding.statics+=this.pad_left(param.slice(2))}else{encoding.statics+=this.encode_int(param)}}encoding.chunks+=this.chunk(encoding.statics.length)}return encoding},encode_bytesN:function(encoding,param){if(param!==undefined&&param!==null&&param!==[]&&param!==""){while(param.length){encoding.statics+=this.pad_right(this.encode_hex(param.slice(0,64)));param=param.slice(64)}encoding.chunks+=this.chunk(encoding.statics.length)}return encoding},offset:function(len,num_params){return this.encode_int(32*(num_params+this.chunk(len)))},encode_bytes:function(encoding,param,num_params){encoding.statics+=this.offset(encoding.dynamics.length,num_params);encoding.dynamics+=this.encode_int(param.length);encoding.dynamics+=this.pad_right(this.encode_hex(param));return encoding},encode_int256a:function(encoding,param,num_params){encoding.statics+=this.offset(encoding.dynamics.length,num_params);var arraylen=param.length;encoding.dynamics+=this.encode_int(arraylen);for(var j=0;j<arraylen;++j){if(param[j]!==undefined){if(param[j].constructor===Number){encoding.dynamics+=this.encode_int(this.bignum(param[j]).mod(this.constants.MOD).toFixed())}else if(param[j].constructor===String){if(param[j].slice(0,1)==="-"){encoding.dynamics+=this.encode_int(this.bignum(param[j]).mod(this.constants.MOD).toFixed())}else if(param[j].slice(0,2)==="0x"){encoding.dynamics+=this.pad_left(param[j].slice(2))}else{encoding.dynamics+=this.encode_int(this.bignum(param[j]).mod(this.constants.MOD).toFixed())}}encoding.dynamics=this.pad_right(encoding.dynamics)}}return encoding},encode_data:function(itx){var tx,num_params,types,encoding;tx=this.copy(itx);types=this.parse_signature(tx.signature);num_params=tx.signature.replace(/\d+/g,"").length;tx.params=this.parse_params(tx.params);encoding={chunks:0,statics:"",dynamics:""};if(num_params===tx.params.length){for(var i=0;i<num_params;++i){if(types[i]==="int256"){encoding=this.encode_int256(encoding,tx.params[i])}else if(types[i]==="bytes"||types[i]==="string"){encoding=this.encode_bytes(encoding,tx.params[i],num_params)}else if(types[i]==="int256[]"){encoding=this.encode_int256a(encoding,tx.params[i],num_params)}else{encoding=this.encode_bytesN(encoding,tx.params[i])}}return encoding.statics+encoding.dynamics}else{return new Error("wrong number of parameters")}},encode:function(tx){tx.signature=tx.signature||"";return this.encode_prefix(tx.method,tx.signature)+this.encode_data(tx)}}}).call(this,require("buffer").Buffer)},{"bignumber.js":10,buffer:14,"js-sha3":5}],5:[function(require,module,exports){(function(global){(function(root,undefined){"use strict";var NODE_JS=typeof module!="undefined";if(NODE_JS){root=global;if(root.JS_SHA3_TEST){root.navigator={userAgent:"Chrome"}}}var CHROME=(root.JS_SHA3_TEST||!NODE_JS)&&navigator.userAgent.indexOf("Chrome")!=-1;var HEX_CHARS="0123456789abcdef".split("");var KECCAK_PADDING=[1,256,65536,16777216];var PADDING=[6,1536,393216,100663296];var SHIFT=[0,8,16,24];var RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var blocks=[],s=[];var keccak_224=function(message){return keccak(message,224,KECCAK_PADDING)};var keccak_256=function(message){return keccak(message,256,KECCAK_PADDING)};var keccak_384=function(message){return keccak(message,384,KECCAK_PADDING)};var sha3_224=function(message){return keccak(message,224,PADDING)};var sha3_256=function(message){return keccak(message,256,PADDING)};var sha3_384=function(message){return keccak(message,384,PADDING)};var sha3_512=function(message){return keccak(message,512,PADDING)};var keccak=function(message,bits,padding){var notString=typeof message!="string";if(notString&&message.constructor==root.ArrayBuffer){message=new Uint8Array(message)}if(bits===undefined){bits=512;padding=KECCAK_PADDING}var block,code,end=false,index=0,start=0,length=message.length,n,i,h,l,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16,b17,b18,b19,b20,b21,b22,b23,b24,b25,b26,b27,b28,b29,b30,b31,b32,b33,b34,b35,b36,b37,b38,b39,b40,b41,b42,b43,b44,b45,b46,b47,b48,b49;var blockCount=(1600-bits*2)/32;var byteCount=blockCount*4;for(i=0;i<50;++i){s[i]=0}block=0;do{blocks[0]=block;for(i=1;i<blockCount+1;++i){blocks[i]=0}if(notString){for(i=start;index<length&&i<byteCount;++index){blocks[i>>2]|=message[index]<<SHIFT[i++&3]}}else{for(i=start;index<length&&i<byteCount;++index){code=message.charCodeAt(index);if(code<128){blocks[i>>2]|=code<<SHIFT[i++&3]}else if(code<2048){blocks[i>>2]|=(192|code>>6)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}else if(code<55296||code>=57344){blocks[i>>2]|=(224|code>>12)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}else{code=65536+((code&1023)<<10|message.charCodeAt(++index)&1023);blocks[i>>2]|=(240|code>>18)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>12&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}}}start=i-byteCount;if(index==length){blocks[i>>2]|=padding[i&3];++index}block=blocks[blockCount];if(index>length&&i<byteCount){blocks[blockCount-1]|=2147483648;end=true}for(i=0;i<blockCount;++i){s[i]^=blocks[i]}for(n=0;n<48;n+=2){c0=s[0]^s[10]^s[20]^s[30]^s[40];c1=s[1]^s[11]^s[21]^s[31]^s[41];c2=s[2]^s[12]^s[22]^s[32]^s[42];c3=s[3]^s[13]^s[23]^s[33]^s[43];c4=s[4]^s[14]^s[24]^s[34]^s[44];c5=s[5]^s[15]^s[25]^s[35]^s[45];c6=s[6]^s[16]^s[26]^s[36]^s[46];c7=s[7]^s[17]^s[27]^s[37]^s[47];c8=s[8]^s[18]^s[28]^s[38]^s[48];c9=s[9]^s[19]^s[29]^s[39]^s[49];
h=c8^(c2<<1|c3>>>31);l=c9^(c3<<1|c2>>>31);s[0]^=h;s[1]^=l;s[10]^=h;s[11]^=l;s[20]^=h;s[21]^=l;s[30]^=h;s[31]^=l;s[40]^=h;s[41]^=l;h=c0^(c4<<1|c5>>>31);l=c1^(c5<<1|c4>>>31);s[2]^=h;s[3]^=l;s[12]^=h;s[13]^=l;s[22]^=h;s[23]^=l;s[32]^=h;s[33]^=l;s[42]^=h;s[43]^=l;h=c2^(c6<<1|c7>>>31);l=c3^(c7<<1|c6>>>31);s[4]^=h;s[5]^=l;s[14]^=h;s[15]^=l;s[24]^=h;s[25]^=l;s[34]^=h;s[35]^=l;s[44]^=h;s[45]^=l;h=c4^(c8<<1|c9>>>31);l=c5^(c9<<1|c8>>>31);s[6]^=h;s[7]^=l;s[16]^=h;s[17]^=l;s[26]^=h;s[27]^=l;s[36]^=h;s[37]^=l;s[46]^=h;s[47]^=l;h=c6^(c0<<1|c1>>>31);l=c7^(c1<<1|c0>>>31);s[8]^=h;s[9]^=l;s[18]^=h;s[19]^=l;s[28]^=h;s[29]^=l;s[38]^=h;s[39]^=l;s[48]^=h;s[49]^=l;b0=s[0];b1=s[1];b32=s[11]<<4|s[10]>>>28;b33=s[10]<<4|s[11]>>>28;b14=s[20]<<3|s[21]>>>29;b15=s[21]<<3|s[20]>>>29;b46=s[31]<<9|s[30]>>>23;b47=s[30]<<9|s[31]>>>23;b28=s[40]<<18|s[41]>>>14;b29=s[41]<<18|s[40]>>>14;b20=s[2]<<1|s[3]>>>31;b21=s[3]<<1|s[2]>>>31;b2=s[13]<<12|s[12]>>>20;b3=s[12]<<12|s[13]>>>20;b34=s[22]<<10|s[23]>>>22;b35=s[23]<<10|s[22]>>>22;b16=s[33]<<13|s[32]>>>19;b17=s[32]<<13|s[33]>>>19;b48=s[42]<<2|s[43]>>>30;b49=s[43]<<2|s[42]>>>30;b40=s[5]<<30|s[4]>>>2;b41=s[4]<<30|s[5]>>>2;b22=s[14]<<6|s[15]>>>26;b23=s[15]<<6|s[14]>>>26;b4=s[25]<<11|s[24]>>>21;b5=s[24]<<11|s[25]>>>21;b36=s[34]<<15|s[35]>>>17;b37=s[35]<<15|s[34]>>>17;b18=s[45]<<29|s[44]>>>3;b19=s[44]<<29|s[45]>>>3;b10=s[6]<<28|s[7]>>>4;b11=s[7]<<28|s[6]>>>4;b42=s[17]<<23|s[16]>>>9;b43=s[16]<<23|s[17]>>>9;b24=s[26]<<25|s[27]>>>7;b25=s[27]<<25|s[26]>>>7;b6=s[36]<<21|s[37]>>>11;b7=s[37]<<21|s[36]>>>11;b38=s[47]<<24|s[46]>>>8;b39=s[46]<<24|s[47]>>>8;b30=s[8]<<27|s[9]>>>5;b31=s[9]<<27|s[8]>>>5;b12=s[18]<<20|s[19]>>>12;b13=s[19]<<20|s[18]>>>12;b44=s[29]<<7|s[28]>>>25;b45=s[28]<<7|s[29]>>>25;b26=s[38]<<8|s[39]>>>24;b27=s[39]<<8|s[38]>>>24;b8=s[48]<<14|s[49]>>>18;b9=s[49]<<14|s[48]>>>18;s[0]=b0^~b2&b4;s[1]=b1^~b3&b5;s[10]=b10^~b12&b14;s[11]=b11^~b13&b15;s[20]=b20^~b22&b24;s[21]=b21^~b23&b25;s[30]=b30^~b32&b34;s[31]=b31^~b33&b35;s[40]=b40^~b42&b44;s[41]=b41^~b43&b45;s[2]=b2^~b4&b6;s[3]=b3^~b5&b7;s[12]=b12^~b14&b16;s[13]=b13^~b15&b17;s[22]=b22^~b24&b26;s[23]=b23^~b25&b27;s[32]=b32^~b34&b36;s[33]=b33^~b35&b37;s[42]=b42^~b44&b46;s[43]=b43^~b45&b47;s[4]=b4^~b6&b8;s[5]=b5^~b7&b9;s[14]=b14^~b16&b18;s[15]=b15^~b17&b19;s[24]=b24^~b26&b28;s[25]=b25^~b27&b29;s[34]=b34^~b36&b38;s[35]=b35^~b37&b39;s[44]=b44^~b46&b48;s[45]=b45^~b47&b49;s[6]=b6^~b8&b0;s[7]=b7^~b9&b1;s[16]=b16^~b18&b10;s[17]=b17^~b19&b11;s[26]=b26^~b28&b20;s[27]=b27^~b29&b21;s[36]=b36^~b38&b30;s[37]=b37^~b39&b31;s[46]=b46^~b48&b40;s[47]=b47^~b49&b41;s[8]=b8^~b0&b2;s[9]=b9^~b1&b3;s[18]=b18^~b10&b12;s[19]=b19^~b11&b13;s[28]=b28^~b20&b22;s[29]=b29^~b21&b23;s[38]=b38^~b30&b32;s[39]=b39^~b31&b33;s[48]=b48^~b40&b42;s[49]=b49^~b41&b43;s[0]^=RC[n];s[1]^=RC[n+1]}}while(!end);var hex="";if(CHROME){b0=s[0];b1=s[1];b2=s[2];b3=s[3];b4=s[4];b5=s[5];b6=s[6];b7=s[7];b8=s[8];b9=s[9];b10=s[10];b11=s[11];b12=s[12];b13=s[13];b14=s[14];b15=s[15];hex+=HEX_CHARS[b0>>4&15]+HEX_CHARS[b0&15]+HEX_CHARS[b0>>12&15]+HEX_CHARS[b0>>8&15]+HEX_CHARS[b0>>20&15]+HEX_CHARS[b0>>16&15]+HEX_CHARS[b0>>28&15]+HEX_CHARS[b0>>24&15]+HEX_CHARS[b1>>4&15]+HEX_CHARS[b1&15]+HEX_CHARS[b1>>12&15]+HEX_CHARS[b1>>8&15]+HEX_CHARS[b1>>20&15]+HEX_CHARS[b1>>16&15]+HEX_CHARS[b1>>28&15]+HEX_CHARS[b1>>24&15]+HEX_CHARS[b2>>4&15]+HEX_CHARS[b2&15]+HEX_CHARS[b2>>12&15]+HEX_CHARS[b2>>8&15]+HEX_CHARS[b2>>20&15]+HEX_CHARS[b2>>16&15]+HEX_CHARS[b2>>28&15]+HEX_CHARS[b2>>24&15]+HEX_CHARS[b3>>4&15]+HEX_CHARS[b3&15]+HEX_CHARS[b3>>12&15]+HEX_CHARS[b3>>8&15]+HEX_CHARS[b3>>20&15]+HEX_CHARS[b3>>16&15]+HEX_CHARS[b3>>28&15]+HEX_CHARS[b3>>24&15]+HEX_CHARS[b4>>4&15]+HEX_CHARS[b4&15]+HEX_CHARS[b4>>12&15]+HEX_CHARS[b4>>8&15]+HEX_CHARS[b4>>20&15]+HEX_CHARS[b4>>16&15]+HEX_CHARS[b4>>28&15]+HEX_CHARS[b4>>24&15]+HEX_CHARS[b5>>4&15]+HEX_CHARS[b5&15]+HEX_CHARS[b5>>12&15]+HEX_CHARS[b5>>8&15]+HEX_CHARS[b5>>20&15]+HEX_CHARS[b5>>16&15]+HEX_CHARS[b5>>28&15]+HEX_CHARS[b5>>24&15]+HEX_CHARS[b6>>4&15]+HEX_CHARS[b6&15]+HEX_CHARS[b6>>12&15]+HEX_CHARS[b6>>8&15]+HEX_CHARS[b6>>20&15]+HEX_CHARS[b6>>16&15]+HEX_CHARS[b6>>28&15]+HEX_CHARS[b6>>24&15];if(bits>=256){hex+=HEX_CHARS[b7>>4&15]+HEX_CHARS[b7&15]+HEX_CHARS[b7>>12&15]+HEX_CHARS[b7>>8&15]+HEX_CHARS[b7>>20&15]+HEX_CHARS[b7>>16&15]+HEX_CHARS[b7>>28&15]+HEX_CHARS[b7>>24&15]}if(bits>=384){hex+=HEX_CHARS[b8>>4&15]+HEX_CHARS[b8&15]+HEX_CHARS[b8>>12&15]+HEX_CHARS[b8>>8&15]+HEX_CHARS[b8>>20&15]+HEX_CHARS[b8>>16&15]+HEX_CHARS[b8>>28&15]+HEX_CHARS[b8>>24&15]+HEX_CHARS[b9>>4&15]+HEX_CHARS[b9&15]+HEX_CHARS[b9>>12&15]+HEX_CHARS[b9>>8&15]+HEX_CHARS[b9>>20&15]+HEX_CHARS[b9>>16&15]+HEX_CHARS[b9>>28&15]+HEX_CHARS[b9>>24&15]+HEX_CHARS[b10>>4&15]+HEX_CHARS[b10&15]+HEX_CHARS[b10>>12&15]+HEX_CHARS[b10>>8&15]+HEX_CHARS[b10>>20&15]+HEX_CHARS[b10>>16&15]+HEX_CHARS[b10>>28&15]+HEX_CHARS[b10>>24&15]+HEX_CHARS[b11>>4&15]+HEX_CHARS[b11&15]+HEX_CHARS[b11>>12&15]+HEX_CHARS[b11>>8&15]+HEX_CHARS[b11>>20&15]+HEX_CHARS[b11>>16&15]+HEX_CHARS[b11>>28&15]+HEX_CHARS[b11>>24&15]}if(bits==512){hex+=HEX_CHARS[b12>>4&15]+HEX_CHARS[b12&15]+HEX_CHARS[b12>>12&15]+HEX_CHARS[b12>>8&15]+HEX_CHARS[b12>>20&15]+HEX_CHARS[b12>>16&15]+HEX_CHARS[b12>>28&15]+HEX_CHARS[b12>>24&15]+HEX_CHARS[b13>>4&15]+HEX_CHARS[b13&15]+HEX_CHARS[b13>>12&15]+HEX_CHARS[b13>>8&15]+HEX_CHARS[b13>>20&15]+HEX_CHARS[b13>>16&15]+HEX_CHARS[b13>>28&15]+HEX_CHARS[b13>>24&15]+HEX_CHARS[b14>>4&15]+HEX_CHARS[b14&15]+HEX_CHARS[b14>>12&15]+HEX_CHARS[b14>>8&15]+HEX_CHARS[b14>>20&15]+HEX_CHARS[b14>>16&15]+HEX_CHARS[b14>>28&15]+HEX_CHARS[b14>>24&15]+HEX_CHARS[b15>>4&15]+HEX_CHARS[b15&15]+HEX_CHARS[b15>>12&15]+HEX_CHARS[b15>>8&15]+HEX_CHARS[b15>>20&15]+HEX_CHARS[b15>>16&15]+HEX_CHARS[b15>>28&15]+HEX_CHARS[b15>>24&15]}}else{for(i=0,n=bits/32;i<n;++i){h=s[i];hex+=HEX_CHARS[h>>4&15]+HEX_CHARS[h&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]}}return hex};if(!root.JS_SHA3_TEST&&NODE_JS){module.exports={sha3_512:sha3_512,sha3_384:sha3_384,sha3_256:sha3_256,sha3_224:sha3_224,keccak_512:keccak,keccak_384:keccak_384,keccak_256:keccak_256,keccak_224:keccak_224}}else if(root){root.sha3_512=sha3_512;root.sha3_384=sha3_384;root.sha3_256=sha3_256;root.sha3_224=sha3_224;root.keccak_512=keccak;root.keccak_384=keccak_384;root.keccak_256=keccak_256;root.keccak_224=keccak_224}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],6:[function(require,module,exports){module.exports={2:{buyAndSellShares:"0xf37626aa99f29a4afe7406e386f68cc77be2cb6e",closeMarket:"0x9973183349c7fc536041d65108431e736cbb6f7e",closeMarketEight:"0xb6e28762fef57f336014643741544d4f197cc494",closeMarketFour:"0x1665ee14c0b07448c3d758c2792d2a328acd98c5",closeMarketOne:"0x8b4cd6f60de0362237dc0c5b22be15273b099b7e",closeMarketTwo:"0x0774e46e0cbddb58f09f2d8d53d4aa8bc53df714",consensus:"0xb816c3abdbb9967485f8645bc83143bb749572e0",createBranch:"0x21b87e562066e36da0bc599b3d016efb6fe80913",createEvent:"0xfab258ae92a2fe25ae4e4ddb9e63fb1c691cc2aa",createMarket:"0x8a1bbe841ceef103221ebcb7fc50bf3e0edc7773",createSingleEventMarket:"0xd5283e4f818de5c984f2221a421983f6040961c1",eventResolution:"0x2fac411c69994858409c24ed2a5567da29c61bca",faucets:"0x895d32f2db7d01ebb50053f9e48aacf26584fe40",makeReports:"0x79a406da9ea815fd8cbe75ba8a4cb6d493dbf9b4",orderBook:"0xc8bdc68526a959fcb932b57063c97b1fc6176709",ramble:"0x42a77acc59bb566aa670d6e7639b99efa235e6f7",sendReputation:"0x6b969e428c58d81429ef13240c0ecb3529aa91bb",transferShares:"0x95ecfe0ebd855931faec81cbb671e61bfe56082e",branches:"0x513087e06ea1a05b858f6da58befb0012c775e63",cash:"0x154edcf6418038f863c6cd3b395a16a02c037ae3",events:"0x2d446b3950fc5ea3cf18804b9ab8f79357978ab9",expiringEvents:"0x0ed2d24d31ed33b658aa2f1108698d5bc3a8b622",fxpFunctions:"0xe85133772801961725debe87ace3cefaffb01533",info:"0xf68dab896ca313cbd8946aecfdb965662a61aa3c",markets:"0x4b2a8b1cc3a2f686d835bfc2ca0c20671676efb0",reporting:"0x2828a20e3ce771571177928077bfbbcdd16df764"},7:{buyAndSellShares:"0x271ee62a8577a97d648c4b4eb3a0e56306f711c1",closeMarket:"0x7a2e05c795fbf585af34cebe760602b8425846dd",closeMarketEight:"0x66021d8b17cd9b90dc53012ba6c8cec8aaef2d1b",closeMarketFour:"0xfb5c088e0d2b8400800c61ac0d69cfd11261401c",closeMarketOne:"0xbfaa24839dec3961c010c4831709bdecbac382f5",closeMarketTwo:"0x8bb3073196dbdbf425157b3d83156f18c5c0e776",consensus:"0xc4d92584ea34be5dd2b916c464e55ec9b4bd1f8f",createBranch:"0xb005839c49a328850bb22359bb66f9ba1a0f9994",createEvent:"0x0c532debb932ddb5d07eb957bf8ff5975e932ca3",createMarket:"0x26ff0f6452673ff11dd8497491b271a18c76990e",createSingleEventMarket:"0x6f5452dca9bbfe8ac9151dd0e67c8dde8b1c6572",eventResolution:"0xd399af9820be7ddda37c7d85e701bf8ee2337739",faucets:"0x94bab6be74df76e996b20329dff2ec39d3013dc3",makeReports:"0x0b7c36b76208e2c968b04dce0658c03c27bfdc00",orderBook:"0xf86bbf277ae88a8b50ae90d97e1aafb1390e2984",ramble:"0x2258a25e503b19dc3d2c2fdc9ca57a1d5985e30c",sendReputation:"0x7e049a60e0106d263ffd0a60bcfbf4f63dd1f2a4",transferShares:"0x40343b107ef5dee9c240ff5f1f87f0afb6f709dc",branches:"0x44cecf2528fbc502f31a58cfce99b8bae992b9c4",cash:"0x9ef25450d88c82118a3395f57e7a29931305ac6d",events:"0xa95fa8fe1f544d80afa29ffb0a959116c842e110",expiringEvents:"0xad225235b9da03bbfda4fb79bf4e2356296e7d7f",fxpFunctions:"0xa1a240f9f505aa06e9eabe405ffab14689dfdda3",info:"0x087785682381a1316303efb19d1d450562603fca",markets:"0xfd0f6987c7042e867db9c1dae6e681b2c3648de2",reporting:"0x9d358fee98edb880e6a4549e21f4ab66dfcadfa7"},10101:{buyAndSellShares:"0xabe47f122a496a732d6c4b38b3ca376d597d75dd",closeMarket:"0x52ccb0490bc81a2ae363fccbb2b367bca546cec7",closeMarketEight:"0xd15a6cfc462ae76b9ec590cab8b34bfa8e1302d7",closeMarketFour:"0x81a7621e9a286d061b3dea040888a51c96693b1c",closeMarketOne:"0xe5b327630cfa7f4b2324f9066c897dceecfd88a3",closeMarketTwo:"0xc21cfa6688dbfd2eca2548d894aa55fd0bbf1c7e",consensus:"0xc1c4e2f32e4b84a60b8b7983b6356af4269aab79",createBranch:"0x8c19616de17acdfbc933b99d9f529a689d22098f",createEvent:"0x77c424f86a1b80f1e303d1c2651acd6aba653cb6",createMarket:"0x35152caa07026203a1add680771afb690d872d7d",createSingleEventMarket:"0x3f3276849a878a176b2f02dd48a483e8182a49e4",eventResolution:"0x60cb05deb51f92ee25ce99f67181ecaeb0b743ea",faucets:"0x5f67ab9ff79be97b27ac8f26ef9f4b429b82e2df",makeReports:"0x8caf2c0ce7cdc2e81b58f74322cefdef440b3f8d",orderBook:"0x8a4e2993a9972ee035453bb5674816fc3a698718",ramble:"0xa34c9f6fc047cea795f69b34a063d32e6cb6288c",sendReputation:"0x6c4c9fa11d6d8ed2c7a08ddcf4d4654c85194f68",transferShares:"0x9fe69262bbaa47f013b7dbd6ca5f01e17446c645",branches:"0x0fbddb6bfb81c8d0965a894567cf4061446072c2",cash:"0x8f2c2267687cb0f047b28a1b6f945da6e101a0d7",events:"0xbd19195b9e8a2d8ed14fc3a2823856b5c16f7f55",expiringEvents:"0x482c57abdce592b39434e3f619ffc3db62ab6d01",fxpFunctions:"0x708fdfe18bf28afe861a69e95419d183ace003eb",info:"0x4a61f3db785f1e2a23ffefeafaceeef2df551667",markets:"0x5069d883e31429c6dd1325d961f443007747c7a2",reporting:"0xe4714fcbdcdba49629bc408183ef40d120700b8d"},errors:{"0x":"no response or bad input",getSimulatedBuy:{"-2":"cost updating error (did you enter a valid quantity?)"},getSimulatedSell:{"-2":"cost updating error (did you enter a valid quantity?)"},closeMarket:{0:"fail/trading not over yet/event not expired or closed already","-1":"Market has no cash anyway / already closed","-2":"0 outcome","-4":"Outcome .5 once, pushback and retry","-6":"bonded pushed forward market not ready to be resolved","-7":"event not reportable >.99"},claimProceeds:{0:"reporting not done","-1":"trader doesn't exist"},report:{0:"could not set reporter ballot","-1":"report length does not match number of expiring events","-2":"voting period expired","-3":"incorrect hash"},submitReportHash:{0:"could not set report hash","-1":"reporter (you) doesn't (don't) exist, or voting period over or hasn't started yet","-2":"not in hash submitting timeframe or event doesn't exist / not a valid event expiring then","-4":"already resolved","-5":".99 market","-6":"no markets"},submitReport:{"-1":"has already reported","-2":"reporter (you) doesn't (don't) exist, or voting period over or hasn't started yet","-3":"hash doesn't match","-4":"no rep","-5":"bad report","-6":"hash not low enough","-8":"invalid event","-9":"already resolved","-10":"<24 hr left in period, too late to report, able to put up readj. bonds though"},checkReportValidity:{"-1":"report isn't long enough","-2":"reporter doesn't exist, voting period is over, or voting period hasn't started yet"},penalizeNotEnoughReports:{"-1":"already done","-2":"hasn't reported this period"},penalizationCatchup:{"-2":"can only be called during the first half of the reporting period"},penalizeWrong:{"-1":"pushed back event already resolved, so can't redistribute rep based off of its original expected expiration period","-2":"already past first half of new period and needed to penalize before then","-3":"need to do not enough reports penalization [or lackthereof]"},collectFees:{"-2":"needs to be second half of reporting period to claim rep [1st half is when redistribution is done]"},slashRep:{0:"not a valid claim","-2":"reporter doesn't exist"},createSubbranch:{"-1":"bad input or parent doesn't exist","-2":"no money for creation fee or branch already exists"},createEvent:{0:"not enough money to pay fees or event already exists","-1":"we're either already past that date, branch doesn't exist, or description is bad","-2":"max value < min value"},createMarket:{"-1":"bad input or parent doesn't exist","-2":"too many events","-3":"too many outcomes","-4":"not enough money or market already exists","-5":"fee too low","-6":"duplicate events","-7":"event already expired"},createSingleEventMarket:{"-1":"bad input or parent doesn't exist","-2":"too many events","-3":"too many outcomes","-4":"not enough money or market already exists","-5":"fee too low","-6":"duplicate events","-7":"event already expired"},sendReputation:{0:"not enough reputation","-1":"Your reputation account was just created! Earn some reputation before you can send to others","-2":"Receiving address doesn't exist"},buyShares:{"-1":"invalid outcome or trading closed","-2":"entered a -amt of shares","-3":"not enough money / limit order too low","-4":"invalid outcome","-5":"bad commitment or no commitment","-6":"oracle only branch, no trading"},sellShares:{"-1":"invalid outcome, trading closed, or you haven't traded in this market","-2":"entered a -amt of shares","-3":"you own no shares / limit price too high","-5":"bad commitment or no commitment","-6":"oracle only branch, no trading"},WHISPER_POST_FAILED:{error:65,message:"could not post message to whisper"},DB_DELETE_FAILED:{error:97,message:"database delete failed"},DB_WRITE_FAILED:{error:98,message:"database write failed"},DB_READ_FAILED:{error:99,message:"database read failed"},INVALID_CONTRACT_PARAMETER:{error:400,message:"cannot send object parameter to contract"},NOT_LOGGED_IN:{error:401,message:"not logged in"},PARAMETER_NUMBER_ERROR:{error:402,message:"wrong number of parameters"},BAD_CREDENTIALS:{error:403,message:"incorrect handle or password"},TRANSACTION_NOT_FOUND:{error:404,message:"transaction not found"},PASSWORD_TOO_SHORT:{error:405,message:"password must be at least 6 characters long"},NULL_CALL_RETURN:{error:406,message:"expected contract call to return value, received null"},NULL_RESPONSE:{error:407,message:"expected transaction hash from Ethereum node, received null"},NO_RESPONSE:{error:408,message:"no response"},INVALID_RESPONSE:{error:409,message:"could not parse response from Ethereum node"},LOCAL_NODE_FAILURE:{error:410,message:"RPC request to local Ethereum node failed"},HOSTED_NODE_FAILURE:{error:411,message:"RPC request to hosted nodes failed"},HANDLE_TAKEN:{error:422,message:"handle already taken"},FILTER_NOT_CREATED:{error:450,message:"filter could not be created"},TRANSACTION_FAILED:{error:500,message:"transaction failed"},TRANSACTION_NOT_CONFIRMED:{error:501,message:"polled network but could not confirm transaction"},DUPLICATE_TRANSACTION:{error:502,message:"duplicate transaction"},RAW_TRANSACTION_ERROR:{error:503,message:"error sending client-side transaction"},RLP_ENCODING_ERROR:{error:504,message:"RLP encoding error"},NO_MARKET_INFO:{error:505,message:"could not retrieve market data"},IPFS_ADD_FAILURE:{error:506,message:"files could not be added to IPFS"},IPFS_GET_FAILURE:{error:507,message:"could not retrieve file from IPFS"},RPC_TIMEOUT:{error:599,message:"timed out while waiting for Ethereum network response"},LOOPBACK_NOT_FOUND:{error:650,message:"loopback interface required for synchronous local commands"},ETHEREUM_NOT_FOUND:{error:651,message:"no active ethereum node(s) found"},ROOT_NOT_FOUND:{error:700,message:"no LS-LMSR objectve function solution found"},CHECK_ORDER_BOOK_FAILED:{error:710,message:"could not check order book using current prices"}}}},{}],7:[function(require,module,exports){module.exports={"0x":"no response or bad input",getSimulatedBuy:{"-2":"cost updating error (did you enter a valid quantity?)"},getSimulatedSell:{"-2":"cost updating error (did you enter a valid quantity?)"},closeMarket:{0:"fail/trading not over yet/event not expired or closed already","-1":"Market has no cash anyway / already closed","-2":"0 outcome","-4":"Outcome .5 once, pushback and retry","-6":"bonded pushed forward market not ready to be resolved","-7":"event not reportable >.99"},claimProceeds:{0:"reporting not done","-1":"trader doesn't exist"},report:{0:"could not set reporter ballot","-1":"report length does not match number of expiring events","-2":"voting period expired","-3":"incorrect hash"},submitReportHash:{0:"could not set report hash","-1":"reporter (you) doesn't (don't) exist, or voting period over or hasn't started yet","-2":"not in hash submitting timeframe or event doesn't exist / not a valid event expiring then","-4":"already resolved","-5":".99 market","-6":"no markets"},submitReport:{"-1":"has already reported","-2":"reporter (you) doesn't (don't) exist, or voting period over or hasn't started yet","-3":"hash doesn't match","-4":"no rep","-5":"bad report","-6":"hash not low enough","-8":"invalid event","-9":"already resolved","-10":"<24 hr left in period, too late to report, able to put up readj. bonds though"},checkReportValidity:{"-1":"report isn't long enough","-2":"reporter doesn't exist, voting period is over, or voting period hasn't started yet"},penalizeNotEnoughReports:{"-1":"already done","-2":"hasn't reported this period"},penalizationCatchup:{"-2":"can only be called during the first half of the reporting period"},penalizeWrong:{"-1":"pushed back event already resolved, so can't redistribute rep based off of its original expected expiration period","-2":"already past first half of new period and needed to penalize before then","-3":"need to do not enough reports penalization [or lackthereof]"},collectFees:{"-2":"needs to be second half of reporting period to claim rep [1st half is when redistribution is done]"},slashRep:{0:"not a valid claim","-2":"reporter doesn't exist"},createSubbranch:{"-1":"bad input or parent doesn't exist","-2":"no money for creation fee or branch already exists"},createEvent:{"-1":"we're either already past that date, branch doesn't exist, or description is bad",0:"not enough money to pay fees or event already exists","-2":"max value < min value"},createMarket:{"-1":"bad input or parent doesn't exist","-2":"too many events","-3":"too many outcomes","-4":"not enough money or market already exists","-5":"fee too low","-6":"duplicate events","-7":"event already expired"},createSingleEventMarket:{"-1":"bad input or parent doesn't exist","-2":"too many events","-3":"too many outcomes","-4":"not enough money or market already exists","-5":"fee too low","-6":"duplicate events","-7":"event already expired"},sendReputation:{0:"not enough reputation","-1":"Your reputation account was just created! Earn some reputation before you can send to others","-2":"Receiving address doesn't exist"},buyShares:{"-1":"invalid outcome or trading closed","-2":"entered a -amt of shares","-3":"not enough money / limit order too low","-4":"invalid outcome","-5":"bad commitment or no commitment","-6":"oracle only branch, no trading"},sellShares:{"-1":"invalid outcome, trading closed, or you haven't traded in this market","-2":"entered a -amt of shares","-3":"you own no shares / limit price too high","-5":"bad commitment or no commitment","-6":"oracle only branch, no trading"},WHISPER_POST_FAILED:{error:65,message:"could not post message to whisper"},DB_DELETE_FAILED:{error:97,message:"database delete failed"},DB_WRITE_FAILED:{error:98,message:"database write failed"},DB_READ_FAILED:{error:99,message:"database read failed"},INVALID_CONTRACT_PARAMETER:{error:400,message:"cannot send object parameter to contract"},NOT_LOGGED_IN:{error:401,message:"not logged in"},PARAMETER_NUMBER_ERROR:{error:402,message:"wrong number of parameters"},BAD_CREDENTIALS:{error:403,message:"incorrect handle or password"},TRANSACTION_NOT_FOUND:{error:404,message:"transaction not found"},PASSWORD_TOO_SHORT:{error:405,message:"password must be at least 6 characters long"},NULL_CALL_RETURN:{error:406,message:"expected contract call to return value, received null"},NULL_RESPONSE:{error:407,message:"expected transaction hash from Ethereum node, received null"},NO_RESPONSE:{error:408,message:"no response"},INVALID_RESPONSE:{error:409,message:"could not parse response from Ethereum node"},LOCAL_NODE_FAILURE:{error:410,message:"RPC request to local Ethereum node failed"},HOSTED_NODE_FAILURE:{error:411,message:"RPC request to hosted nodes failed"},HANDLE_TAKEN:{error:422,message:"handle already taken"},FILTER_NOT_CREATED:{error:450,message:"filter could not be created"},TRANSACTION_FAILED:{error:500,message:"transaction failed"},TRANSACTION_NOT_CONFIRMED:{error:501,message:"polled network but could not confirm transaction"},DUPLICATE_TRANSACTION:{error:502,message:"duplicate transaction"},RAW_TRANSACTION_ERROR:{error:503,message:"error sending client-side transaction"},RLP_ENCODING_ERROR:{error:504,message:"RLP encoding error"},NO_MARKET_INFO:{error:505,message:"could not retrieve market data"},IPFS_ADD_FAILURE:{error:506,message:"files could not be added to IPFS"},IPFS_GET_FAILURE:{error:507,message:"could not retrieve file from IPFS"},RPC_TIMEOUT:{error:599,message:"timed out while waiting for Ethereum network response"},LOOPBACK_NOT_FOUND:{error:650,message:"loopback interface required for synchronous local commands"},ETHEREUM_NOT_FOUND:{error:651,message:"no active ethereum node(s) found"},ROOT_NOT_FOUND:{error:700,message:"no LS-LMSR objectve function solution found"},CHECK_ORDER_BOOK_FAILED:{error:710,message:"could not check order book using current prices"}}},{}],8:[function(require,module,exports){var contracts=require("./contracts");contracts.errors=require("./errors");contracts.Tx=require("./tx");module.exports=contracts},{"./contracts":6,"./errors":7,"./tx":9}],9:[function(require,module,exports){"use strict";module.exports=function(network){var contracts=require("./contracts")[network];return{reputationFaucet:{to:contracts.faucets,method:"reputationFaucet",signature:"i",returns:"number",send:true},cashFaucet:{to:contracts.faucets,method:"cashFaucet",returns:"number",send:true},fundNewAccount:{to:contracts.faucets,method:"fundNewAccount",signature:"i",returns:"number",send:true},createSingleEventMarket:{to:contracts.createSingleEventMarket,method:"createSingleEventMarket",signature:"isiiiiiiii",returns:"hash",send:true},addCash:{to:contracts.cash,method:"addCash",signature:"ii",send:true,returns:"number"},setCash:{to:contracts.cash,method:"setCash",signature:"ii",send:true,returns:"number"},initiateOwner:{to:contracts.cash,method:"initiateOwner",signature:"i",send:true,returns:"number"},getCashBalance:{to:contracts.cash,method:"balance",signature:"i",returns:"unfix"},balance:{to:contracts.cash,method:"balance",signature:"i",returns:"unfix"},sendCash:{to:contracts.cash,method:"send",send:true,signature:"ii",returns:"unfix"},sendCashFrom:{to:contracts.cash,method:"sendFrom",send:true,signature:"iii",returns:"unfix"},depositEther:{to:contracts.cash,method:"depositEther",send:true,returns:"number"},withdrawEther:{to:contracts.cash,method:"withdrawEther",signature:"ii",send:true,returns:"number"},getCreator:{to:contracts.info,method:"getCreator",signature:"i",returns:"address"},getCreationFee:{to:contracts.info,method:"getCreationFee",signature:"i",returns:"unfix"},getDescription:{to:contracts.info,method:"getDescription",signature:"i",returns:"string"},setInfo:{to:contracts.info,method:"setInfo",signature:"isii",returns:"number",send:true},redeem_interpolate:{to:contracts.redeem_interpolate,method:"interpolate",signature:"iiiii"},read_ballots:{to:contracts.redeem_interpolate,method:"read_ballots",signature:"iiiii"},initDefaultBranch:{to:contracts.branches,method:"initDefaultBranch",returns:"number",send:true},getBranches:{to:contracts.branches,method:"getBranches",returns:"hash[]"},getMarketsInBranch:{to:contracts.branches,method:"getMarketsInBranch",signature:"i",returns:"hash[]"},getPeriodLength:{to:contracts.branches,method:"getPeriodLength",signature:"i",returns:"number"},getVotePeriod:{to:contracts.branches,method:"getVotePeriod",signature:"i",returns:"number"},getNumMarketsBranch:{to:contracts.branches,method:"getNumMarketsBranch",signature:"i",returns:"number"},getMinTradingFee:{to:contracts.branches,method:"getMinTradingFee",signature:"i",returns:"unfix"},getNumBranches:{to:contracts.branches,method:"getNumBranches",returns:"number"},getBranch:{to:contracts.branches,method:"getBranch",signature:"i",returns:"hash"},incrementPeriod:{to:contracts.branches,method:"incrementPeriod",signature:"i",send:true,returns:"number"},addMarket:{to:contracts.branches,method:"addMarket",signature:"ii",returns:"number",send:true},proportionCorrect:{to:contracts.consensus,method:"proportionCorrect",signature:"iii",returns:"unfix"},incrementPeriodAfterReporting:{to:contracts.consensus,method:"incrementPeriodAfterReporting",signature:"i",returns:"number",send:true},penalizeNotEnoughReports:{to:contracts.consensus,method:"penalizeNotEnoughReports",signature:"i",returns:"number",send:true},collectFees:{to:contracts.consensus,method:"collectFees",signature:"i",returns:"number",send:true},penalizeWrong:{to:contracts.consensus,method:"penalizeWrong",signature:"ii",returns:"number",send:true},penalizationCatchup:{to:contracts.consensus,method:"penalizationCatchup",signature:"i",returns:"number",send:true},slashRep:{to:contracts.consensus,method:"slashRep",signature:"iiiii",returns:"number",send:true},getmode:{to:contracts.events,method:"getmode",signature:"i",returns:"unfix"},getUncaughtOutcome:{to:contracts.events,method:"getUncaughtOutcome",signature:"i",returns:"unfix"},getMarkets:{to:contracts.events,method:"getMarkets",signature:"i",returns:"hash[]"},getReportingThreshold:{to:contracts.events,method:"getReportingThreshold",signature:"i",returns:"unfix"},getEventInfo:{to:contracts.events,method:"getEventInfo",signature:"i",returns:"hash[]"},getEventBranch:{to:contracts.events,method:"getEventBranch",signature:"i",returns:"hash"},getExpiration:{to:contracts.events,method:"getExpiration",signature:"i",returns:"number"},getOutcome:{to:contracts.events,method:"getOutcome",signature:"i",returns:"unfix"},getMinValue:{to:contracts.events,method:"getMinValue",signature:"i",returns:"number"},getMaxValue:{to:contracts.events,method:"getMaxValue",signature:"i",returns:"number"},getNumOutcomes:{to:contracts.events,method:"getNumOutcomes",signature:"i",returns:"number"},setOutcome:{to:contracts.events,method:"setOutcome",signature:"ii",returns:"number",send:true},getEventIndex:{to:contracts.expiringEvents,method:"getEventIndex",signature:"ii",returns:"number"},getEvents:{to:contracts.expiringEvents,method:"getEvents",signature:"ii",returns:"hash[]"},getNumberEvents:{to:contracts.expiringEvents,method:"getNumberEvents",signature:"ii",returns:"number"},getEvent:{to:contracts.expiringEvents,method:"getEvent",signature:"iii",returns:"hash"},getTotalRepReported:{to:contracts.expiringEvents,method:"getTotalRepReported",signature:"ii",returns:"number"},getReportHash:{to:contracts.expiringEvents,method:"getReportHash",signature:"iiii",returns:"hash"},moveEventsToCurrentPeriod:{to:contracts.expiringEvents,method:"moveEventsToCurrentPeriod",signature:"iii",send:true},addEvent:{to:contracts.expiringEvents,method:"addEvent",signature:"iii",send:true},setTotalRepReported:{to:contracts.expiringEvents,method:"setTotalRepReported",signature:"iii",send:true},setReporterBallot:{to:contracts.expiringEvents,method:"setReporterBallot",signature:"iiiai",send:true,returns:"number"},getTotalReputation:{to:contracts.expiringEvents,method:"getTotalReputation",signature:"ii",returns:"unfix"},setTotalReputation:{to:contracts.expiringEvents,method:"setTotalReputation",signature:"iii",returns:"number"},price:{to:contracts.markets,method:"price",signature:"ii",returns:"unfix"},lsLmsr:{to:contracts.markets,method:"lsLmsr",signature:"i",returns:"unfix"},getMarketInfo:{to:contracts.markets,method:"getMarketInfo",signature:"i",returns:"hash[]",gas:9999999999999},getMarketsInfo:{to:contracts.markets,method:"getMarketsInfo",signature:"iii",returns:"hash[]",gas:9999999999999},getMarketEvents:{to:contracts.markets,method:"getMarketEvents",signature:"i",returns:"hash[]"},getNumEvents:{to:contracts.markets,method:"getNumEvents",signature:"i",returns:"number"},getBranchID:{to:contracts.markets,method:"getBranchID",signature:"i",returns:"hash"},getCurrentParticipantNumber:{to:contracts.markets,method:"getCurrentParticipantNumber",signature:"i",returns:"number"},getMarketNumOutcomes:{to:contracts.markets,method:"getMarketNumOutcomes",signature:"i",returns:"number"},getParticipantSharesPurchased:{to:contracts.markets,method:"getParticipantSharesPurchased",signature:"iii",returns:"unfix"},getSharesPurchased:{to:contracts.markets,method:"getSharesPurchased",signature:"ii",returns:"unfix"},getForkSelection:{to:contracts.markets,method:"getForkSelection",signature:"i",returns:"hash"},getVolume:{to:contracts.markets,method:"getVolume",signature:"i",returns:"unfix"},getWinningOutcomes:{to:contracts.markets,method:"getWinningOutcomes",signature:"i",returns:"number[]"},getParticipantNumber:{to:contracts.markets,method:"getParticipantNumber",signature:"ii",returns:"number"},getParticipantID:{to:contracts.markets,method:"getParticipantID",signature:"ii",returns:"address"},getAlpha:{to:contracts.markets,method:"getAlpha",signature:"i",returns:"unfix"},getCumScale:{to:contracts.markets,method:"getCumScale",signature:"i",returns:"unfix"},getTradingPeriod:{to:contracts.markets,method:"getTradingPeriod",signature:"i",returns:"number"},getTradingFee:{to:contracts.markets,method:"getTradingFee",signature:"i",returns:"unfix"},initialLiquidityAmount:{to:contracts.markets,method:"initialLiquidityAmount",signature:"ii",returns:"unfix"},initialLiquiditySetup:{to:contracts.markets,method:"initialLiquiditySetup",signature:"iiii",returns:"number",send:true},modifyShares:{to:contracts.markets,method:"modifyShares",signature:"iii",returns:"number",send:true},initializeMarket:{to:contracts.markets,method:"initializeMarket",signature:"iaiii",returns:"number",send:true},getRepBalance:{to:contracts.reporting,method:"getRepBalance",signature:"ii",returns:"unfix"},getRepByIndex:{to:contracts.reporting,method:"getRepByIndex",signature:"ii",returns:"unfix"},getReporterID:{to:contracts.reporting,method:"getReporterID",signature:"ii",returns:"address"},getReputation:{to:contracts.reporting,method:"getReputation",signature:"i",returns:"number[]"},getNumberReporters:{to:contracts.reporting,method:"getNumberReporters",signature:"i",returns:"number"},repIDToIndex:{to:contracts.reporting,method:"repIDToIndex",signature:"ii",returns:"number"},getTotalRep:{to:contracts.reporting,method:"getTotalRep",signature:"i",returns:"unfix"},hashReport:{to:contracts.reporting,method:"hashReport",signature:"ai"
},commitTrade:{to:contracts.buyAndSellShares,method:"commitTrade",signature:"ii",returns:"number",send:true},buyShares:{to:contracts.buyAndSellShares,method:"buyShares",signature:"iiiii",returns:"number",send:true},sellShares:{to:contracts.buyAndSellShares,method:"sellShares",signature:"iiiii",returns:"number",send:true},createSubbranch:{to:contracts.createBranch,method:"createSubbranch",signature:"siiii",returns:"hash",send:true},sendReputation:{to:contracts.sendReputation,method:"sendReputation",signature:"iii",send:true,returns:"unfix"},getNumEventsToReport:{to:contracts.makeReports,method:"getNumEventsToReport",signature:"ii",returns:"number"},getReportedPeriod:{to:contracts.makeReports,method:"getReportedPeriod",signature:"iii",returns:"number"},getReportable:{to:contracts.makeReports,method:"getReportable",signature:"ii",returns:"number"},getNumReportsActual:{to:contracts.makeReports,method:"getNumReportsActual",signature:"ii",returns:"number"},getSubmittedHash:{to:contracts.makeReports,method:"getSubmittedHash",signature:"iii",returns:"hash"},getBeforeRep:{to:contracts.makeReports,method:"getBeforeRep",signature:"ii",returns:"unfix"},getAfterRep:{to:contracts.makeReports,method:"getAfterRep",signature:"ii",returns:"unfix"},getReport:{to:contracts.makeReports,method:"getReport",signature:"iii",returns:"unfix"},getRRUpToDate:{to:contracts.makeReports,method:"getRRUpToDate",returns:"number"},getNumReportsExpectedEvent:{to:contracts.makeReports,method:"getNumReportsExpectedEvent",signature:"iii",returns:"hash"},getNumReportsEvent:{to:contracts.makeReports,method:"getNumReportsEvent",signature:"iii",returns:"hash"},makeHash:{to:contracts.makeReports,method:"makeHash",signature:"iii",returns:"hash"},report:{to:contracts.makeReports,method:"report",signature:"iaii",returns:"number",send:true},calculateReportingThreshold:{to:contracts.makeReports,method:"calculateReportingThreshold",signature:"iii",returns:"hash"},submitReportHash:{to:contracts.makeReports,method:"submitReportHash",signature:"iiiii",returns:"number",send:true},submitReport:{to:contracts.makeReports,method:"submitReport",signature:"iiiiiii",returns:"number",send:true},checkReportValidity:{to:contracts.makeReports,method:"checkReportValidity",signature:"iai",returns:"number"},createEvent:{to:contracts.createEvent,method:"createEvent",signature:"isiiii",send:true},createMarket:{to:contracts.createMarket,method:"createMarket",signature:"isiiiai",send:true},closeMarket:{to:contracts.closeMarket,method:"closeMarket",signature:"ii",returns:"number",send:true},claimProceeds:{to:contracts.closeMarket,method:"claimProceeds",signature:"ii",returns:"number",send:true},dispatch:{to:contracts.dispatch,method:"dispatch",signature:"i",returns:"number"}}}},{"./contracts":6}],10:[function(require,module,exports){(function(globalObj){"use strict";var cryptoObj,parseNumeric,isNumeric=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,notBool=" not a boolean or binary digit",roundingMode="rounding mode",tooManyDigits="number type has more than 15 significant digits",ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;if(typeof crypto!="undefined")cryptoObj=crypto;function constructorFactory(configObj){var div,id=0,P=BigNumber.prototype,ONE=new BigNumber(1),DECIMAL_PLACES=20,ROUNDING_MODE=4,TO_EXP_NEG=-7,TO_EXP_POS=21,MIN_EXP=-1e7,MAX_EXP=1e7,ERRORS=true,isValidInt=intValidatorWithErrors,CRYPTO=false,MODULO_MODE=1,POW_PRECISION=100,FORMAT={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0};function BigNumber(n,b){var c,e,i,num,len,str,x=this;if(!(x instanceof BigNumber)){if(ERRORS)raise(26,"constructor call without new",n);return new BigNumber(n,b)}if(b==null||!isValidInt(b,2,64,id,"base")){if(n instanceof BigNumber){x.s=n.s;x.e=n.e;x.c=(n=n.c)?n.slice():n;id=0;return}if((num=typeof n=="number")&&n*0==0){x.s=1/n<0?(n=-n,-1):1;if(n===~~n){for(e=0,i=n;i>=10;i/=10,e++);x.e=e;x.c=[n];id=0;return}str=n+""}else{if(!isNumeric.test(str=n+""))return parseNumeric(x,str,num);x.s=str.charCodeAt(0)===45?(str=str.slice(1),-1):1}}else{b=b|0;str=n+"";if(b==10){x=new BigNumber(n instanceof BigNumber?n:str);return round(x,DECIMAL_PLACES+x.e+1,ROUNDING_MODE)}if((num=typeof n=="number")&&n*0!=0||!new RegExp("^-?"+(c="["+ALPHABET.slice(0,b)+"]+")+"(?:\\."+c+")?$",b<37?"i":"").test(str)){return parseNumeric(x,str,num,b)}if(num){x.s=1/n<0?(str=str.slice(1),-1):1;if(ERRORS&&str.replace(/^0\.0*|\./,"").length>15){raise(id,tooManyDigits,n)}num=false}else{x.s=str.charCodeAt(0)===45?(str=str.slice(1),-1):1}str=convertBase(str,10,b,x.s)}if((e=str.indexOf("."))>-1)str=str.replace(".","");if((i=str.search(/e/i))>0){if(e<0)e=i;e+=+str.slice(i+1);str=str.substring(0,i)}else if(e<0){e=str.length}for(i=0;str.charCodeAt(i)===48;i++);for(len=str.length;str.charCodeAt(--len)===48;);str=str.slice(i,len+1);if(str){len=str.length;if(num&&ERRORS&&len>15&&(n>MAX_SAFE_INTEGER||n!==mathfloor(n))){raise(id,tooManyDigits,x.s*n)}e=e-i-1;if(e>MAX_EXP){x.c=x.e=null}else if(e<MIN_EXP){x.c=[x.e=0]}else{x.e=e;x.c=[];i=(e+1)%LOG_BASE;if(e<0)i+=LOG_BASE;if(i<len){if(i)x.c.push(+str.slice(0,i));for(len-=LOG_BASE;i<len;){x.c.push(+str.slice(i,i+=LOG_BASE))}str=str.slice(i);i=LOG_BASE-str.length}else{i-=len}for(;i--;str+="0");x.c.push(+str)}}else{x.c=[x.e=0]}id=0}BigNumber.another=constructorFactory;BigNumber.ROUND_UP=0;BigNumber.ROUND_DOWN=1;BigNumber.ROUND_CEIL=2;BigNumber.ROUND_FLOOR=3;BigNumber.ROUND_HALF_UP=4;BigNumber.ROUND_HALF_DOWN=5;BigNumber.ROUND_HALF_EVEN=6;BigNumber.ROUND_HALF_CEIL=7;BigNumber.ROUND_HALF_FLOOR=8;BigNumber.EUCLID=9;BigNumber.config=function(){var v,p,i=0,r={},a=arguments,o=a[0],has=o&&typeof o=="object"?function(){if(o.hasOwnProperty(p))return(v=o[p])!=null}:function(){if(a.length>i)return(v=a[i++])!=null};if(has(p="DECIMAL_PLACES")&&isValidInt(v,0,MAX,2,p)){DECIMAL_PLACES=v|0}r[p]=DECIMAL_PLACES;if(has(p="ROUNDING_MODE")&&isValidInt(v,0,8,2,p)){ROUNDING_MODE=v|0}r[p]=ROUNDING_MODE;if(has(p="EXPONENTIAL_AT")){if(isArray(v)){if(isValidInt(v[0],-MAX,0,2,p)&&isValidInt(v[1],0,MAX,2,p)){TO_EXP_NEG=v[0]|0;TO_EXP_POS=v[1]|0}}else if(isValidInt(v,-MAX,MAX,2,p)){TO_EXP_NEG=-(TO_EXP_POS=(v<0?-v:v)|0)}}r[p]=[TO_EXP_NEG,TO_EXP_POS];if(has(p="RANGE")){if(isArray(v)){if(isValidInt(v[0],-MAX,-1,2,p)&&isValidInt(v[1],1,MAX,2,p)){MIN_EXP=v[0]|0;MAX_EXP=v[1]|0}}else if(isValidInt(v,-MAX,MAX,2,p)){if(v|0)MIN_EXP=-(MAX_EXP=(v<0?-v:v)|0);else if(ERRORS)raise(2,p+" cannot be zero",v)}}r[p]=[MIN_EXP,MAX_EXP];if(has(p="ERRORS")){if(v===!!v||v===1||v===0){id=0;isValidInt=(ERRORS=!!v)?intValidatorWithErrors:intValidatorNoErrors}else if(ERRORS){raise(2,p+notBool,v)}}r[p]=ERRORS;if(has(p="CRYPTO")){if(v===!!v||v===1||v===0){CRYPTO=!!(v&&cryptoObj);if(v&&!CRYPTO&&ERRORS)raise(2,"crypto unavailable",cryptoObj)}else if(ERRORS){raise(2,p+notBool,v)}}r[p]=CRYPTO;if(has(p="MODULO_MODE")&&isValidInt(v,0,9,2,p)){MODULO_MODE=v|0}r[p]=MODULO_MODE;if(has(p="POW_PRECISION")&&isValidInt(v,0,MAX,2,p)){POW_PRECISION=v|0}r[p]=POW_PRECISION;if(has(p="FORMAT")){if(typeof v=="object"){FORMAT=v}else if(ERRORS){raise(2,p+" not an object",v)}}r[p]=FORMAT;return r};BigNumber.max=function(){return maxOrMin(arguments,P.lt)};BigNumber.min=function(){return maxOrMin(arguments,P.gt)};BigNumber.random=function(){var pow2_53=9007199254740992;var random53bitInt=Math.random()*pow2_53&2097151?function(){return mathfloor(Math.random()*pow2_53)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(dp){var a,b,e,k,v,i=0,c=[],rand=new BigNumber(ONE);dp=dp==null||!isValidInt(dp,0,MAX,14)?DECIMAL_PLACES:dp|0;k=mathceil(dp/LOG_BASE);if(CRYPTO){if(cryptoObj&&cryptoObj.getRandomValues){a=cryptoObj.getRandomValues(new Uint32Array(k*=2));for(;i<k;){v=a[i]*131072+(a[i+1]>>>11);if(v>=9e15){b=cryptoObj.getRandomValues(new Uint32Array(2));a[i]=b[0];a[i+1]=b[1]}else{c.push(v%1e14);i+=2}}i=k/2}else if(cryptoObj&&cryptoObj.randomBytes){a=cryptoObj.randomBytes(k*=7);for(;i<k;){v=(a[i]&31)*281474976710656+a[i+1]*1099511627776+a[i+2]*4294967296+a[i+3]*16777216+(a[i+4]<<16)+(a[i+5]<<8)+a[i+6];if(v>=9e15){cryptoObj.randomBytes(7).copy(a,i)}else{c.push(v%1e14);i+=7}}i=k/7}else if(ERRORS){raise(14,"crypto unavailable",cryptoObj)}}if(!i){for(;i<k;){v=random53bitInt();if(v<9e15)c[i++]=v%1e14}}k=c[--i];dp%=LOG_BASE;if(k&&dp){v=POWS_TEN[LOG_BASE-dp];c[i]=mathfloor(k/v)*v}for(;c[i]===0;c.pop(),i--);if(i<0){c=[e=0]}else{for(e=-1;c[0]===0;c.shift(),e-=LOG_BASE);for(i=1,v=c[0];v>=10;v/=10,i++);if(i<LOG_BASE)e-=LOG_BASE-i}rand.e=e;rand.c=c;return rand}}();function convertBase(str,baseOut,baseIn,sign){var d,e,k,r,x,xc,y,i=str.indexOf("."),dp=DECIMAL_PLACES,rm=ROUNDING_MODE;if(baseIn<37)str=str.toLowerCase();if(i>=0){k=POW_PRECISION;POW_PRECISION=0;str=str.replace(".","");y=new BigNumber(baseIn);x=y.pow(str.length-i);POW_PRECISION=k;y.c=toBaseOut(toFixedPoint(coeffToString(x.c),x.e),10,baseOut);y.e=y.c.length}xc=toBaseOut(str,baseIn,baseOut);e=k=xc.length;for(;xc[--k]==0;xc.pop());if(!xc[0])return"0";if(i<0){--e}else{x.c=xc;x.e=e;x.s=sign;x=div(x,y,dp,rm,baseOut);xc=x.c;r=x.r;e=x.e}d=e+dp+1;i=xc[d];k=baseOut/2;r=r||d<0||xc[d+1]!=null;r=rm<4?(i!=null||r)&&(rm==0||rm==(x.s<0?3:2)):i>k||i==k&&(rm==4||r||rm==6&&xc[d-1]&1||rm==(x.s<0?8:7));if(d<1||!xc[0]){str=r?toFixedPoint("1",-dp):"0"}else{xc.length=d;if(r){for(--baseOut;++xc[--d]>baseOut;){xc[d]=0;if(!d){++e;xc.unshift(1)}}}for(k=xc.length;!xc[--k];);for(i=0,str="";i<=k;str+=ALPHABET.charAt(xc[i++]));str=toFixedPoint(str,e)}return str}div=function(){function multiply(x,k,base){var m,temp,xlo,xhi,carry=0,i=x.length,klo=k%SQRT_BASE,khi=k/SQRT_BASE|0;for(x=x.slice();i--;){xlo=x[i]%SQRT_BASE;xhi=x[i]/SQRT_BASE|0;m=khi*xlo+xhi*klo;temp=klo*xlo+m%SQRT_BASE*SQRT_BASE+carry;carry=(temp/base|0)+(m/SQRT_BASE|0)+khi*xhi;x[i]=temp%base}if(carry)x.unshift(carry);return x}function compare(a,b,aL,bL){var i,cmp;if(aL!=bL){cmp=aL>bL?1:-1}else{for(i=cmp=0;i<aL;i++){if(a[i]!=b[i]){cmp=a[i]>b[i]?1:-1;break}}}return cmp}function subtract(a,b,aL,base){var i=0;for(;aL--;){a[aL]-=i;i=a[aL]<b[aL]?1:0;a[aL]=i*base+a[aL]-b[aL]}for(;!a[0]&&a.length>1;a.shift());}return function(x,y,dp,rm,base){var cmp,e,i,more,n,prod,prodL,q,qc,rem,remL,rem0,xi,xL,yc0,yL,yz,s=x.s==y.s?1:-1,xc=x.c,yc=y.c;if(!xc||!xc[0]||!yc||!yc[0]){return new BigNumber(!x.s||!y.s||(xc?yc&&xc[0]==yc[0]:!yc)?NaN:xc&&xc[0]==0||!yc?s*0:s/0)}q=new BigNumber(s);qc=q.c=[];e=x.e-y.e;s=dp+e+1;if(!base){base=BASE;e=bitFloor(x.e/LOG_BASE)-bitFloor(y.e/LOG_BASE);s=s/LOG_BASE|0}for(i=0;yc[i]==(xc[i]||0);i++);if(yc[i]>(xc[i]||0))e--;if(s<0){qc.push(1);more=true}else{xL=xc.length;yL=yc.length;i=0;s+=2;n=mathfloor(base/(yc[0]+1));if(n>1){yc=multiply(yc,n,base);xc=multiply(xc,n,base);yL=yc.length;xL=xc.length}xi=yL;rem=xc.slice(0,yL);remL=rem.length;for(;remL<yL;rem[remL++]=0);yz=yc.slice();yz.unshift(0);yc0=yc[0];if(yc[1]>=base/2)yc0++;do{n=0;cmp=compare(yc,rem,yL,remL);if(cmp<0){rem0=rem[0];if(yL!=remL)rem0=rem0*base+(rem[1]||0);n=mathfloor(rem0/yc0);if(n>1){if(n>=base)n=base-1;prod=multiply(yc,n,base);prodL=prod.length;remL=rem.length;while(compare(prod,rem,prodL,remL)==1){n--;subtract(prod,yL<prodL?yz:yc,prodL,base);prodL=prod.length;cmp=1}}else{if(n==0){cmp=n=1}prod=yc.slice();prodL=prod.length}if(prodL<remL)prod.unshift(0);subtract(rem,prod,remL,base);remL=rem.length;if(cmp==-1){while(compare(yc,rem,yL,remL)<1){n++;subtract(rem,yL<remL?yz:yc,remL,base);remL=rem.length}}}else if(cmp===0){n++;rem=[0]}qc[i++]=n;if(rem[0]){rem[remL++]=xc[xi]||0}else{rem=[xc[xi]];remL=1}}while((xi++<xL||rem[0]!=null)&&s--);more=rem[0]!=null;if(!qc[0])qc.shift()}if(base==BASE){for(i=1,s=qc[0];s>=10;s/=10,i++);round(q,dp+(q.e=i+e*LOG_BASE-1)+1,rm,more)}else{q.e=e;q.r=+more}return q}}();function format(n,i,rm,caller){var c0,e,ne,len,str;rm=rm!=null&&isValidInt(rm,0,8,caller,roundingMode)?rm|0:ROUNDING_MODE;if(!n.c)return n.toString();c0=n.c[0];ne=n.e;if(i==null){str=coeffToString(n.c);str=caller==19||caller==24&&ne<=TO_EXP_NEG?toExponential(str,ne):toFixedPoint(str,ne)}else{n=round(new BigNumber(n),i,rm);e=n.e;str=coeffToString(n.c);len=str.length;if(caller==19||caller==24&&(i<=e||e<=TO_EXP_NEG)){for(;len<i;str+="0",len++);str=toExponential(str,e)}else{i-=ne;str=toFixedPoint(str,e);if(e+1>len){if(--i>0)for(str+=".";i--;str+="0");}else{i+=e-len;if(i>0){if(e+1==len)str+=".";for(;i--;str+="0");}}}}return n.s<0&&c0?"-"+str:str}function maxOrMin(args,method){var m,n,i=0;if(isArray(args[0]))args=args[0];m=new BigNumber(args[0]);for(;++i<args.length;){n=new BigNumber(args[i]);if(!n.s){m=n;break}else if(method.call(m,n)){m=n}}return m}function intValidatorWithErrors(n,min,max,caller,name){if(n<min||n>max||n!=truncate(n)){raise(caller,(name||"decimal places")+(n<min||n>max?" out of range":" not an integer"),n)}return true}function normalise(n,c,e){var i=1,j=c.length;for(;!c[--j];c.pop());for(j=c[0];j>=10;j/=10,i++);if((e=i+e*LOG_BASE-1)>MAX_EXP){n.c=n.e=null}else if(e<MIN_EXP){n.c=[n.e=0]}else{n.e=e;n.c=c}return n}parseNumeric=function(){var basePrefix=/^(-?)0([xbo])(?=\w[\w.]*$)/i,dotAfter=/^([^.]+)\.$/,dotBefore=/^\.([^.]+)$/,isInfinityOrNaN=/^-?(Infinity|NaN)$/,whitespaceOrPlus=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(x,str,num,b){var base,s=num?str:str.replace(whitespaceOrPlus,"");if(isInfinityOrNaN.test(s)){x.s=isNaN(s)?null:s<0?-1:1}else{if(!num){s=s.replace(basePrefix,function(m,p1,p2){base=(p2=p2.toLowerCase())=="x"?16:p2=="b"?2:8;return!b||b==base?p1:m});if(b){base=b;s=s.replace(dotAfter,"$1").replace(dotBefore,"0.$1")}if(str!=s)return new BigNumber(s,base)}if(ERRORS)raise(id,"not a"+(b?" base "+b:"")+" number",str);x.s=null}x.c=x.e=null;id=0}}();function raise(caller,msg,val){var error=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][caller]+"() "+msg+": "+val);error.name="BigNumber Error";id=0;throw error}function round(x,sd,rm,r){var d,i,j,k,n,ni,rd,xc=x.c,pows10=POWS_TEN;if(xc){out:{for(d=1,k=xc[0];k>=10;k/=10,d++);i=sd-d;if(i<0){i+=LOG_BASE;j=sd;n=xc[ni=0];rd=n/pows10[d-j-1]%10|0}else{ni=mathceil((i+1)/LOG_BASE);if(ni>=xc.length){if(r){for(;xc.length<=ni;xc.push(0));n=rd=0;d=1;i%=LOG_BASE;j=i-LOG_BASE+1}else{break out}}else{n=k=xc[ni];for(d=1;k>=10;k/=10,d++);i%=LOG_BASE;j=i-LOG_BASE+d;rd=j<0?0:n/pows10[d-j-1]%10|0}}r=r||sd<0||xc[ni+1]!=null||(j<0?n:n%pows10[d-j-1]);r=rm<4?(rd||r)&&(rm==0||rm==(x.s<0?3:2)):rd>5||rd==5&&(rm==4||r||rm==6&&(i>0?j>0?n/pows10[d-j]:0:xc[ni-1])%10&1||rm==(x.s<0?8:7));if(sd<1||!xc[0]){xc.length=0;if(r){sd-=x.e+1;xc[0]=pows10[(LOG_BASE-sd%LOG_BASE)%LOG_BASE];x.e=-sd||0}else{xc[0]=x.e=0}return x}if(i==0){xc.length=ni;k=1;ni--}else{xc.length=ni+1;k=pows10[LOG_BASE-i];xc[ni]=j>0?mathfloor(n/pows10[d-j]%pows10[j])*k:0}if(r){for(;;){if(ni==0){for(i=1,j=xc[0];j>=10;j/=10,i++);j=xc[0]+=k;for(k=1;j>=10;j/=10,k++);if(i!=k){x.e++;if(xc[0]==BASE)xc[0]=1}break}else{xc[ni]+=k;if(xc[ni]!=BASE)break;xc[ni--]=0;k=1}}}for(i=xc.length;xc[--i]===0;xc.pop());}if(x.e>MAX_EXP){x.c=x.e=null}else if(x.e<MIN_EXP){x.c=[x.e=0]}}return x}P.absoluteValue=P.abs=function(){var x=new BigNumber(this);if(x.s<0)x.s=1;return x};P.ceil=function(){return round(new BigNumber(this),this.e+1,2)};P.comparedTo=P.cmp=function(y,b){id=1;return compare(this,new BigNumber(y,b))};P.decimalPlaces=P.dp=function(){var n,v,c=this.c;if(!c)return null;n=((v=c.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE;if(v=c[v])for(;v%10==0;v/=10,n--);if(n<0)n=0;return n};P.dividedBy=P.div=function(y,b){id=3;return div(this,new BigNumber(y,b),DECIMAL_PLACES,ROUNDING_MODE)};P.dividedToIntegerBy=P.divToInt=function(y,b){id=4;return div(this,new BigNumber(y,b),0,1)};P.equals=P.eq=function(y,b){id=5;return compare(this,new BigNumber(y,b))===0};P.floor=function(){return round(new BigNumber(this),this.e+1,3)};P.greaterThan=P.gt=function(y,b){id=6;return compare(this,new BigNumber(y,b))>0};P.greaterThanOrEqualTo=P.gte=function(y,b){id=7;return(b=compare(this,new BigNumber(y,b)))===1||b===0};P.isFinite=function(){return!!this.c};P.isInteger=P.isInt=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isZero=function(){return!!this.c&&this.c[0]==0};P.lessThan=P.lt=function(y,b){id=8;return compare(this,new BigNumber(y,b))<0};P.lessThanOrEqualTo=P.lte=function(y,b){id=9;return(b=compare(this,new BigNumber(y,b)))===-1||b===0};P.minus=P.sub=function(y,b){var i,j,t,xLTy,x=this,a=x.s;id=10;y=new BigNumber(y,b);b=y.s;if(!a||!b)return new BigNumber(NaN);if(a!=b){y.s=-b;return x.plus(y)}var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return xc?(y.s=-b,y):new BigNumber(yc?x:NaN);if(!xc[0]||!yc[0]){return yc[0]?(y.s=-b,y):new BigNumber(xc[0]?x:ROUNDING_MODE==3?-0:0)}}xe=bitFloor(xe);ye=bitFloor(ye);xc=xc.slice();if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc}else{ye=xe;t=yc}t.reverse();for(b=a;b--;t.push(0));t.reverse()}else{j=(xLTy=(a=xc.length)<(b=yc.length))?a:b;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}}}if(xLTy)t=xc,xc=yc,yc=t,y.s=-y.s;b=(j=yc.length)-(i=xc.length);if(b>0)for(;b--;xc[i++]=0);b=BASE-1;for(;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=b);--xc[i];xc[j]+=BASE}xc[j]-=yc[j]}for(;xc[0]==0;xc.shift(),--ye);if(!xc[0]){y.s=ROUNDING_MODE==3?-1:1;y.c=[y.e=0];return y}return normalise(y,xc,ye)};P.modulo=P.mod=function(y,b){var q,s,x=this;id=11;y=new BigNumber(y,b);if(!x.c||!y.s||y.c&&!y.c[0]){return new BigNumber(NaN)}else if(!y.c||x.c&&!x.c[0]){return new BigNumber(x)}if(MODULO_MODE==9){s=y.s;y.s=1;q=div(x,y,0,3);y.s=s;q.s*=s}else{q=div(x,y,0,MODULO_MODE)}return x.minus(q.times(y))};P.negated=P.neg=function(){var x=new BigNumber(this);x.s=-x.s||null;return x};P.plus=P.add=function(y,b){var t,x=this,a=x.s;id=12;y=new BigNumber(y,b);b=y.s;if(!a||!b)return new BigNumber(NaN);if(a!=b){y.s=-b;return x.minus(y)}var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return new BigNumber(a/0);if(!xc[0]||!yc[0])return yc[0]?y:new BigNumber(xc[0]?x:a*0)}xe=bitFloor(xe);ye=bitFloor(ye);xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc}else{a=-a;t=xc}t.reverse();for(;a--;t.push(0));t.reverse()}a=xc.length;b=yc.length;if(a-b<0)t=yc,yc=xc,xc=t,b=a;for(a=0;b;){a=(xc[--b]=xc[b]+yc[b]+a)/BASE|0;xc[b]%=BASE}if(a){xc.unshift(a);++ye}return normalise(y,xc,ye)};P.precision=P.sd=function(z){var n,v,x=this,c=x.c;if(z!=null&&z!==!!z&&z!==1&&z!==0){if(ERRORS)raise(13,"argument"+notBool,z);if(z!=!!z)z=null}if(!c)return null;v=c.length-1;n=v*LOG_BASE+1;if(v=c[v]){for(;v%10==0;v/=10,n--);for(v=c[0];v>=10;v/=10,n++);}if(z&&x.e+1>n)n=x.e+1;return n};P.round=function(dp,rm){var n=new BigNumber(this);if(dp==null||isValidInt(dp,0,MAX,15)){round(n,~~dp+this.e+1,rm==null||!isValidInt(rm,0,8,15,roundingMode)?ROUNDING_MODE:rm|0)}return n};P.shift=function(k){var n=this;return isValidInt(k,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER,16,"argument")?n.times("1e"+truncate(k)):new BigNumber(n.c&&n.c[0]&&(k<-MAX_SAFE_INTEGER||k>MAX_SAFE_INTEGER)?n.s*(k<0?0:1/0):n)};P.squareRoot=P.sqrt=function(){var m,n,r,rep,t,x=this,c=x.c,s=x.s,e=x.e,dp=DECIMAL_PLACES+4,half=new BigNumber("0.5");if(s!==1||!c||!c[0]){return new BigNumber(!s||s<0&&(!c||c[0])?NaN:c?x:1/0)}s=Math.sqrt(+x);if(s==0||s==1/0){n=coeffToString(c);if((n.length+e)%2==0)n+="0";s=Math.sqrt(n);e=bitFloor((e+1)/2)-(e<0||e%2);if(s==1/0){n="1e"+e}else{n=s.toExponential();n=n.slice(0,n.indexOf("e")+1)+e}r=new BigNumber(n)}else{r=new BigNumber(s+"")}if(r.c[0]){e=r.e;s=e+dp;if(s<3)s=0;for(;;){t=r;r=half.times(t.plus(div(x,t,dp,1)));if(coeffToString(t.c).slice(0,s)===(n=coeffToString(r.c)).slice(0,s)){if(r.e<e)--s;n=n.slice(s-3,s+1);if(n=="9999"||!rep&&n=="4999"){if(!rep){round(t,t.e+DECIMAL_PLACES+2,0);if(t.times(t).eq(x)){r=t;break}}dp+=4;s+=4;rep=1}else{if(!+n||!+n.slice(1)&&n.charAt(0)=="5"){round(r,r.e+DECIMAL_PLACES+2,1);m=!r.times(r).eq(x)}break}}}}return round(r,r.e+DECIMAL_PLACES+1,ROUNDING_MODE,m)};P.times=P.mul=function(y,b){var c,e,i,j,k,m,xcL,xlo,xhi,ycL,ylo,yhi,zc,base,sqrtBase,x=this,xc=x.c,yc=(id=17,y=new BigNumber(y,b)).c;if(!xc||!yc||!xc[0]||!yc[0]){if(!x.s||!y.s||xc&&!xc[0]&&!yc||yc&&!yc[0]&&!xc){y.c=y.e=y.s=null}else{y.s*=x.s;if(!xc||!yc){y.c=y.e=null}else{y.c=[0];y.e=0}}return y}e=bitFloor(x.e/LOG_BASE)+bitFloor(y.e/LOG_BASE);y.s*=x.s;xcL=xc.length;ycL=yc.length;if(xcL<ycL)zc=xc,xc=yc,yc=zc,i=xcL,xcL=ycL,ycL=i;for(i=xcL+ycL,zc=[];i--;zc.push(0));base=BASE;sqrtBase=SQRT_BASE;for(i=ycL;--i>=0;){c=0;ylo=yc[i]%sqrtBase;yhi=yc[i]/sqrtBase|0;for(k=xcL,j=i+k;j>i;){xlo=xc[--k]%sqrtBase;xhi=xc[k]/sqrtBase|0;m=yhi*xlo+xhi*ylo;xlo=ylo*xlo+m%sqrtBase*sqrtBase+zc[j]+c;c=(xlo/base|0)+(m/sqrtBase|0)+yhi*xhi;zc[j--]=xlo%base}zc[j]=c}if(c){++e}else{zc.shift()}return normalise(y,zc,e)};P.toDigits=function(sd,rm){var n=new BigNumber(this);sd=sd==null||!isValidInt(sd,1,MAX,18,"precision")?null:sd|0;rm=rm==null||!isValidInt(rm,0,8,18,roundingMode)?ROUNDING_MODE:rm|0;return sd?round(n,sd,rm):n};P.toExponential=function(dp,rm){return format(this,dp!=null&&isValidInt(dp,0,MAX,19)?~~dp+1:null,rm,19)};P.toFixed=function(dp,rm){return format(this,dp!=null&&isValidInt(dp,0,MAX,20)?~~dp+this.e+1:null,rm,20)};P.toFormat=function(dp,rm){var str=format(this,dp!=null&&isValidInt(dp,0,MAX,21)?~~dp+this.e+1:null,rm,21);if(this.c){var i,arr=str.split("."),g1=+FORMAT.groupSize,g2=+FORMAT.secondaryGroupSize,groupSeparator=FORMAT.groupSeparator,intPart=arr[0],fractionPart=arr[1],isNeg=this.s<0,intDigits=isNeg?intPart.slice(1):intPart,len=intDigits.length;if(g2)i=g1,g1=g2,g2=i,len-=i;if(g1>0&&len>0){i=len%g1||g1;intPart=intDigits.substr(0,i);for(;i<len;i+=g1){intPart+=groupSeparator+intDigits.substr(i,g1)}if(g2>0)intPart+=groupSeparator+intDigits.slice(i);if(isNeg)intPart="-"+intPart}str=fractionPart?intPart+FORMAT.decimalSeparator+((g2=+FORMAT.fractionGroupSize)?fractionPart.replace(new RegExp("\\d{"+g2+"}\\B","g"),"$&"+FORMAT.fractionGroupSeparator):fractionPart):intPart}return str};P.toFraction=function(md){var arr,d0,d2,e,exp,n,n0,q,s,k=ERRORS,x=this,xc=x.c,d=new BigNumber(ONE),n1=d0=new BigNumber(ONE),d1=n0=new BigNumber(ONE);if(md!=null){ERRORS=false;n=new BigNumber(md);ERRORS=k;if(!(k=n.isInt())||n.lt(ONE)){if(ERRORS){raise(22,"max denominator "+(k?"out of range":"not an integer"),md)}md=!k&&n.c&&round(n,n.e+1,1).gte(ONE)?n:null}}if(!xc)return x.toString();s=coeffToString(xc);e=d.e=s.length-x.e-1;d.c[0]=POWS_TEN[(exp=e%LOG_BASE)<0?LOG_BASE+exp:exp];md=!md||n.cmp(d)>0?e>0?d:n1:n;exp=MAX_EXP;MAX_EXP=1/0;n=new BigNumber(s);n0.c[0]=0;for(;;){q=div(n,d,0,1);d2=d0.plus(q.times(d1));if(d2.cmp(md)==1)break;d0=d1;d1=d2;n1=n0.plus(q.times(d2=n1));n0=d2;d=n.minus(q.times(d2=d));n=d2}d2=div(md.minus(d0),d1,0,1);n0=n0.plus(d2.times(n1));d0=d0.plus(d2.times(d1));n0.s=n1.s=x.s;e*=2;arr=div(n1,d1,e,ROUNDING_MODE).minus(x).abs().cmp(div(n0,d0,e,ROUNDING_MODE).minus(x).abs())<1?[n1.toString(),d1.toString()]:[n0.toString(),d0.toString()];MAX_EXP=exp;return arr};P.toNumber=function(){return+this};P.toPower=P.pow=function(n,m){var k,y,z,i=mathfloor(n<0?-n:+n),x=this;if(m!=null){id=23;m=new BigNumber(m)}if(!isValidInt(n,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER,23,"exponent")&&(!isFinite(n)||i>MAX_SAFE_INTEGER&&(n/=0)||parseFloat(n)!=n&&!(n=NaN))||n==0){k=Math.pow(+x,n);return new BigNumber(m?k%m:k)}if(m){if(n>1&&x.gt(ONE)&&x.isInt()&&m.gt(ONE)&&m.isInt()){x=x.mod(m)}else{z=m;m=null}}else if(POW_PRECISION){k=mathceil(POW_PRECISION/LOG_BASE+2)}y=new BigNumber(ONE);for(;;){if(i%2){y=y.times(x);if(!y.c)break;if(k){if(y.c.length>k)y.c.length=k}else if(m){y=y.mod(m)}}i=mathfloor(i/2);if(!i)break;x=x.times(x);if(k){if(x.c&&x.c.length>k)x.c.length=k}else if(m){x=x.mod(m)}}if(m)return y;if(n<0)y=ONE.div(y);return z?y.mod(z):k?round(y,POW_PRECISION,ROUNDING_MODE):y};P.toPrecision=function(sd,rm){return format(this,sd!=null&&isValidInt(sd,1,MAX,24,"precision")?sd|0:null,rm,24)};P.toString=function(b){var str,n=this,s=n.s,e=n.e;if(e===null){if(s){str="Infinity";if(s<0)str="-"+str}else{str="NaN"}}else{str=coeffToString(n.c);if(b==null||!isValidInt(b,2,64,25,"base")){str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(str,e):toFixedPoint(str,e)}else{str=convertBase(toFixedPoint(str,e),b|0,10,s)}if(s<0&&n.c[0])str="-"+str}return str};P.truncated=P.trunc=function(){return round(new BigNumber(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var str,n=this,e=n.e;if(e===null)return n.toString();str=coeffToString(n.c);str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(str,e):toFixedPoint(str,e);return n.s<0?"-"+str:str};if(configObj!=null)BigNumber.config(configObj);return BigNumber}function bitFloor(n){var i=n|0;return n>0||n===i?i:i-1}function coeffToString(a){var s,z,i=1,j=a.length,r=a[0]+"";for(;i<j;){s=a[i++]+"";z=LOG_BASE-s.length;for(;z--;s="0"+s);r+=s}for(j=r.length;r.charCodeAt(--j)===48;);return r.slice(0,j+1||1)}function compare(x,y){var a,b,xc=x.c,yc=y.c,i=x.s,j=y.s,k=x.e,l=y.e;if(!i||!j)return null;a=xc&&!xc[0];b=yc&&!yc[0];if(a||b)return a?b?0:-j:i;if(i!=j)return i;a=i<0;b=k==l;if(!xc||!yc)return b?0:!xc^a?1:-1;if(!b)return k>l^a?1:-1;j=(k=xc.length)<(l=yc.length)?k:l;for(i=0;i<j;i++)if(xc[i]!=yc[i])return xc[i]>yc[i]^a?1:-1;return k==l?0:k>l^a?1:-1}function intValidatorNoErrors(n,min,max){return(n=truncate(n))>=min&&n<=max}function isArray(obj){return Object.prototype.toString.call(obj)=="[object Array]"}function toBaseOut(str,baseIn,baseOut){var j,arr=[0],arrL,i=0,len=str.length;for(;i<len;){for(arrL=arr.length;arrL--;arr[arrL]*=baseIn);arr[j=0]+=ALPHABET.indexOf(str.charAt(i++));for(;j<arr.length;j++){if(arr[j]>baseOut-1){if(arr[j+1]==null)arr[j+1]=0;arr[j+1]+=arr[j]/baseOut|0;arr[j]%=baseOut}}}return arr.reverse()}function toExponential(str,e){return(str.length>1?str.charAt(0)+"."+str.slice(1):str)+(e<0?"e":"e+")+e}function toFixedPoint(str,e){var len,z;if(e<0){for(z="0.";++e;z+="0");str=z+str}else{len=str.length;if(++e>len){for(z="0",e-=len;--e;z+="0");str+=z}else if(e<len){str=str.slice(0,e)+"."+str.slice(e)}}return str}function truncate(n){n=parseFloat(n);return n<0?mathceil(n):mathfloor(n)}if(typeof define=="function"&&define.amd){define(function(){return constructorFactory()})}else if(typeof module!="undefined"&&module.exports){module.exports=constructorFactory();if(!cryptoObj)try{cryptoObj=require("cry"+"pto")}catch(e){}}else{if(!globalObj)globalObj=typeof self!="undefined"?self:Function("return this")();globalObj.BigNumber=constructorFactory()}})(this)},{}],11:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.returnExports=factory()}})(this,function(){var XHR=XMLHttpRequest;if(!XHR)throw new Error("missing XMLHttpRequest");request.log={trace:noop,debug:noop,info:noop,warn:noop,error:noop};var DEFAULT_TIMEOUT=3*60*1e3;function request(options,callback){if(typeof callback!=="function")throw new Error("Bad callback given: "+callback);if(!options)throw new Error("No options given");var options_onResponse=options.onResponse;if(typeof options==="string")options={uri:options};else options=JSON.parse(JSON.stringify(options));options.onResponse=options_onResponse;if(options.verbose)request.log=getLogger();if(options.url){options.uri=options.url;delete options.url}if(!options.uri&&options.uri!=="")throw new Error("options.uri is a required argument");if(typeof options.uri!="string")throw new Error("options.uri must be a string");var unsupported_options=["proxy","_redirectsFollowed","maxRedirects","followRedirect"];for(var i=0;i<unsupported_options.length;i++)if(options[unsupported_options[i]])throw new Error("options."+unsupported_options[i]+" is not supported");options.callback=callback;options.method=options.method||"GET";options.headers=options.headers||{};options.body=options.body||null;options.timeout=options.timeout||request.DEFAULT_TIMEOUT;if(options.headers.host)throw new Error("Options.headers.host is not supported");if(options.json){options.headers.accept=options.headers.accept||"application/json";if(options.method!=="GET")options.headers["content-type"]="application/json";if(typeof options.json!=="boolean")options.body=JSON.stringify(options.json);else if(typeof options.body!=="string")options.body=JSON.stringify(options.body)}var serialize=function(obj){var str=[];for(var p in obj)if(obj.hasOwnProperty(p)){str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p]))}return str.join("&")};if(options.qs){var qs=typeof options.qs=="string"?options.qs:serialize(options.qs);if(options.uri.indexOf("?")!==-1){options.uri=options.uri+"&"+qs}else{options.uri=options.uri+"?"+qs}}var multipart=function(obj){var result={};result.boundry="-------------------------------"+Math.floor(Math.random()*1e9);var lines=[];for(var p in obj){if(obj.hasOwnProperty(p)){lines.push("--"+result.boundry+"\n"+'Content-Disposition: form-data; name="'+p+'"'+"\n"+"\n"+obj[p]+"\n")}}lines.push("--"+result.boundry+"--");result.body=lines.join("");result.length=result.body.length;result.type="multipart/form-data; boundary="+result.boundry;return result};if(options.form){if(typeof options.form=="string")throw"form name unsupported";if(options.method==="POST"){var encoding=(options.encoding||"application/x-www-form-urlencoded").toLowerCase();options.headers["content-type"]=encoding;switch(encoding){case"application/x-www-form-urlencoded":options.body=serialize(options.form).replace(/%20/g,"+");break;case"multipart/form-data":var multi=multipart(options.form);options.body=multi.body;options.headers["content-type"]=multi.type;break;default:throw new Error("unsupported encoding:"+encoding)}}}options.onResponse=options.onResponse||noop;if(options.onResponse===true){options.onResponse=callback;options.callback=noop}if(!options.headers.authorization&&options.auth)options.headers.authorization="Basic "+b64_enc(options.auth.username+":"+options.auth.password);return run_xhr(options)}var req_seq=0;function run_xhr(options){var xhr=new XHR,timed_out=false,is_cors=is_crossDomain(options.uri),supports_cors="withCredentials"in xhr;req_seq+=1;xhr.seq_id=req_seq;xhr.id=req_seq+": "+options.method+" "+options.uri;xhr._id=xhr.id;if(is_cors&&!supports_cors){var cors_err=new Error("Browser does not support cross-origin request: "+options.uri);cors_err.cors="unsupported";return options.callback(cors_err,xhr)}xhr.timeoutTimer=setTimeout(too_late,options.timeout);function too_late(){timed_out=true;var er=new Error("ETIMEDOUT");er.code="ETIMEDOUT";er.duration=options.timeout;request.log.error("Timeout",{id:xhr._id,milliseconds:options.timeout});return options.callback(er,xhr)}var did={response:false,loading:false,end:false};xhr.onreadystatechange=on_state_change;xhr.open(options.method,options.uri,true);if(is_cors)xhr.withCredentials=!!options.withCredentials;xhr.send(options.body);return xhr;function on_state_change(event){if(timed_out)return request.log.debug("Ignoring timed out state change",{state:xhr.readyState,id:xhr.id});request.log.debug("State change",{state:xhr.readyState,id:xhr.id,timed_out:timed_out});if(xhr.readyState===XHR.OPENED){request.log.debug("Request started",{id:xhr.id});for(var key in options.headers)xhr.setRequestHeader(key,options.headers[key])}else if(xhr.readyState===XHR.HEADERS_RECEIVED)on_response();else if(xhr.readyState===XHR.LOADING){on_response();on_loading()}else if(xhr.readyState===XHR.DONE){on_response();on_loading();on_end()}}function on_response(){if(did.response)return;did.response=true;request.log.debug("Got response",{id:xhr.id,status:xhr.status});clearTimeout(xhr.timeoutTimer);xhr.statusCode=xhr.status;if(is_cors&&xhr.statusCode==0){var cors_err=new Error("CORS request rejected: "+options.uri);cors_err.cors="rejected";did.loading=true;did.end=true;return options.callback(cors_err,xhr)}options.onResponse(null,xhr);
}function on_loading(){if(did.loading)return;did.loading=true;request.log.debug("Response body loading",{id:xhr.id})}function on_end(){if(did.end)return;did.end=true;request.log.debug("Request done",{id:xhr.id});xhr.body=xhr.responseText;if(options.json){try{xhr.body=JSON.parse(xhr.responseText)}catch(er){return options.callback(er,xhr)}}options.callback(null,xhr,xhr.body)}}request.withCredentials=false;request.DEFAULT_TIMEOUT=DEFAULT_TIMEOUT;request.defaults=function(options,requester){var def=function(method){var d=function(params,callback){if(typeof params==="string")params={uri:params};else{params=JSON.parse(JSON.stringify(params))}for(var i in options){if(params[i]===undefined)params[i]=options[i]}return method(params,callback)};return d};var de=def(request);de.get=def(request.get);de.post=def(request.post);de.put=def(request.put);de.head=def(request.head);return de};var shortcuts=["get","put","post","head"];shortcuts.forEach(function(shortcut){var method=shortcut.toUpperCase();var func=shortcut.toLowerCase();request[func]=function(opts){if(typeof opts==="string")opts={method:method,uri:opts};else{opts=JSON.parse(JSON.stringify(opts));opts.method=method}var args=[opts].concat(Array.prototype.slice.apply(arguments,[1]));return request.apply(this,args)}});request.couch=function(options,callback){if(typeof options==="string")options={uri:options};options.json=true;if(options.body)options.json=options.body;delete options.body;callback=callback||noop;var xhr=request(options,couch_handler);return xhr;function couch_handler(er,resp,body){if(er)return callback(er,resp,body);if((resp.statusCode<200||resp.statusCode>299)&&body.error){er=new Error("CouchDB error: "+(body.error.reason||body.error.error));for(var key in body)er[key]=body[key];return callback(er,resp,body)}return callback(er,resp,body)}};function noop(){}function getLogger(){var logger={},levels=["trace","debug","info","warn","error"],level,i;for(i=0;i<levels.length;i++){level=levels[i];logger[level]=noop;if(typeof console!=="undefined"&&console&&console[level])logger[level]=formatted(console,level)}return logger}function formatted(obj,method){return formatted_logger;function formatted_logger(str,context){if(typeof context==="object")str+=" "+JSON.stringify(context);return obj[method].call(obj,str)}}function is_crossDomain(url){var rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;var ajaxLocation;try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}var ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],parts=rurl.exec(url.toLowerCase());var result=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))));return result}function b64_enc(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data){return data}do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&63;h2=bits>>12&63;h3=bits>>6&63;h4=bits&63;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4)}while(i<data.length);enc=tmp_arr.join("");switch(data.length%3){case 1:enc=enc.slice(0,-2)+"==";break;case 2:enc=enc.slice(0,-1)+"=";break}return enc}return request})},{}],12:[function(require,module,exports){},{}],13:[function(require,module,exports){arguments[4][12][0].apply(exports,arguments)},{dup:12}],14:[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("isarray");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();function typedArraySupport(){function Bar(){}try{var arr=new Uint8Array(1);arr.foo=function(){return 42};arr.constructor=Bar;return arr.foo()===42&&arr.constructor===Bar&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1]);return new Buffer(arg)}if(!Buffer.TYPED_ARRAY_SUPPORT){this.length=0;this.parent=undefined}if(typeof arg==="number"){return fromNumber(this,arg)}if(typeof arg==="string"){return fromString(this,arg,arguments.length>1?arguments[1]:"utf8")}return fromObject(this,arg)}function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}return that}function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding==="")encoding="utf8";var length=byteLength(string,encoding)|0;that=allocate(that,length);that.write(string,encoding);return that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(object==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}if(object instanceof ArrayBuffer){return fromArrayBuffer(that,object)}}if(object.length)return fromArrayLike(that,object);return fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=checked(buffer.length)|0;that=allocate(that,length);buffer.copy(that,0,0,length);return that}function fromArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromTypedArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array){if(Buffer.TYPED_ARRAY_SUPPORT){array.byteLength;that=Buffer._augment(new Uint8Array(array))}else{that=fromTypedArray(that,new Uint8Array(array))}return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromJsonObject(that,object){var array;var length=0;if(object.type==="Buffer"&&isArray(object.data)){array=object.data;length=checked(array.length)|0}that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array}else{Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined}function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=Buffer._augment(new Uint8Array(length));that.__proto__=Buffer.prototype}else{that.length=length;that._isBuffer=true}var fromPool=length!==0&&length<=Buffer.poolSize>>>1;if(fromPool)that.parent=rootParent;return that}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;var i=0;var len=Math.min(x,y);while(i<len){if(a[i]!==b[i])break;++i}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;i++){length+=list[i].length}}var buf=new Buffer(length);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};function byteLength(string,encoding){if(typeof string!=="string")string=""+string;var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;start=start|0;end=end===undefined||end===Infinity?this.length:end|0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.get=function get(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function set(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length|0;length=swap}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{target._set(this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.toArrayBuffer=function toArrayBuffer(){if(typeof Uint8Array!=="undefined"){if(Buffer.TYPED_ARRAY_SUPPORT){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function _augment(arr){arr.constructor=Buffer;arr._isBuffer=true;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.indexOf=BP.indexOf;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUIntLE=BP.readUIntLE;arr.readUIntBE=BP.readUIntBE;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readIntLE=BP.readIntLE;arr.readIntBE=BP.readIntBE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUIntLE=BP.writeUIntLE;arr.writeUIntBE=BP.writeUIntBE;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeIntLE=BP.writeIntLE;arr.writeIntBE=BP.writeIntBE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint);
}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":15,ieee754:16,isarray:17}],15:[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);var PLUS_URL_SAFE="-".charCodeAt(0);var SLASH_URL_SAFE="_".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS||code===PLUS_URL_SAFE)return 62;if(code===SLASH||code===SLASH_URL_SAFE)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(typeof exports==="undefined"?this.base64js={}:exports)},{}],16:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],17:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],18:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}]},{},[1]);
